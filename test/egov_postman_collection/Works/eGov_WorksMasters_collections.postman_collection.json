{
	"info": {
		"name": "eGov_WorksMasters_collections",
		"_postman_id": "d5b51bc1-39c6-8b98-d9c3-f79d98c528b8",
		"description": "Works Masters:\r\n\r\nSchedule of Rate Master\r\nProject Code master\r\nContractor Master\r\nMilestone Template\r\nEstimate Template\r\nRemarks Master",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
	},
	"item": [
		{
			"name": "Remarks Master",
			"description": "",
			"item": [
				{
					"name": "Create Remarks",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "182aa6e2-9351-449e-98b2-3d276f3dffa4",
								"type": "text/javascript",
								"exec": [
									"var jsonData = JSON.parse(responseBody);",
									"var remarks = jsonData.remarks;",
									"var remarksIds = \"\";",
									"var remarksDetails;",
									"var remarksDetailsIds = \"\";",
									"",
									"for (var i=0; i<remarks.length; i++){",
									"    if(remarks.length == i+1){",
									"        remarksIds += remarks[i].id;",
									"        remarksDetailsIds += jsonData.remarks[i].remarksDetails[i];",
									"    }",
									"    else{",
									"        remarksIds += remarks[i].id  + \",\" ;",
									"        remarksDetailsIds += jsonData.remarks[i].remarksDetails[i].id + \",\";",
									"    }",
									"    pm.environment.set(\"remarksIds\", remarksIds);",
									"    pm.environment.set(\"remarksDetailsIds\", remarksDetailsIds);",
									"}",
									"",
									"pm.environment.set(\"typeOfDocument\", jsonData.remarks[0].typeOfDocument.name);",
									"pm.environment.set(\"remarksType\", jsonData.remarks[0].remarksType.name);"
								]
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"id": "5bd03f0f-1ab5-4bec-a14f-86a84cf0012a",
								"type": "text/javascript",
								"exec": [
									"var RemarksType = [\"Approval\", \"Show Cause\", \"Rejection\"];",
									"var TypeOfDocument = [\"Work Order\", \"Notice\"];",
									"",
									"var remarksType = RemarksType[Math.floor(Math.random() * RemarksType.length)];",
									"var typeOfDocument = TypeOfDocument[Math.floor(Math.random() * TypeOfDocument.length)];",
									"pm.environment.set(\"typeOfDocument\", typeOfDocument);",
									"",
									"if( typeOfDocument == \"Work Order\"){",
									"    pm.environment.set(\"remarksType\", \"Approval\");",
									"}else if(typeOfDocument == \"Notice\"){",
									"    pm.environment.set(\"remarksType\", \"Show Cause\");",
									"}else",
									"    pm.environment.set(\"remarksType\", \"Rejection\");"
								]
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"requestInfo\": {\n    \"action\": \"create\",\n    \"did\": \"1\",\n    \"msgId\": \"20170310130900\",\n    \"requesterId\": \"HOD\",\n    \"apiId\": \"works-master\",\n    \"ver\": \"1.0\",\n    \"ts\": 1,\n    \"key\": \"abcdkey\",\n    \"authToken\": \"{{access_token}}\",\n    \"tenantId\": \"{{tenantId}}\",\n    \"userInfo\": {\n      \"userName\": \"HOD\",\n      \"tenantId\": \"{{tenantId}}\"\n    }\n  },\n  \"remarks\": [\n    {\n      \"tenantId\": \"{{tenantId}}\",\n      \"typeOfDocument\": {\n        \"name\": \"{{typeOfDocument}}\",\n        \"tenantId\": \"{{tenantId}}\"\n      },\n      \"remarksType\": {\n        \"name\": \"{{remarksType}}\",\n        \"tenantId\": \"{{tenantId}}\"\n      },\n      \"remarksDetails\": [\n        {\n          \"tenantId\": \"{{tenantId}}\",\n          \"remarksDescription\": \"Remarks Description for Approved Work order\",\n          \"editable\": true\n        }\n      ]\n    }\n  ]\n}"
						},
						"url": {
							"raw": "{{url}}/works-masters/v1/remarks/_create",
							"host": [
								"{{url}}"
							],
							"path": [
								"works-masters",
								"v1",
								"remarks",
								"_create"
							]
						},
						"description": ""
					},
					"response": []
				},
				{
					"name": "Search Remarks",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"RequestInfo\": {\n    \"action\": \"search\",\n    \"did\": \"1\",\n    \"msgId\": \"20170310130900\",\n    \"requesterId\": \"HOD\",\n    \"authToken\": \"{{access_token}}\",\n    \"apiId\": \"works-master\",\n    \"ver\": \"1.0\",\n    \"ts\": 1,\n    \"key\": \"abcdkey\",\n    \"userInfo\": {\n      \"userName\": \"HOD\",\n      \"tenantId\" : \"{{tenantId}}\"\n    }\n  }\n}"
						},
						"url": {
							"raw": "{{url}}//works-masters/v1/remarks/_search?tenantId={{tenantId}}",
							"host": [
								"{{url}}"
							],
							"path": [
								"",
								"works-masters",
								"v1",
								"remarks",
								"_search"
							],
							"query": [
								{
									"key": "tenantId",
									"value": "{{tenantId}}",
									"equals": true
								}
							]
						},
						"description": ""
					},
					"response": []
				},
				{
					"name": "Update Remarks",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"id": "ab6c241d-d2a9-438a-b78a-d2cf06d3a0f1",
								"type": "text/javascript",
								"exec": [
									"var RemarksType = [\"Approval\", \"Show Cause\", \"Rejection\"];",
									"var TypeOfDocument = [\"Work Order\", \"Notice\"];",
									"",
									"var remarksType = RemarksType[Math.floor(Math.random() * RemarksType.length)];",
									"var typeOfDocument = TypeOfDocument[Math.floor(Math.random() * TypeOfDocument.length)];",
									"pm.environment.set(\"typeOfDocument\", typeOfDocument);",
									"",
									"if( typeOfDocument == \"Work Order\"){",
									"    pm.environment.set(\"remarksType\", \"Approval\");",
									"}else if(typeOfDocument == \"Notice\"){",
									"    pm.environment.set(\"remarksType\", \"Show Cause\");",
									"}else",
									"    pm.environment.set(\"remarksType\", \"Rejection\");"
								]
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"requestInfo\": {\n    \"action\": \"update\",\n    \"did\": \"1\",\n    \"msgId\": \"20170310130900\",\n    \"requesterId\": \"HOD\",\n    \"apiId\": \"works-master\",\n    \"ver\": \"1.0\",\n    \"ts\": 1,\n    \"key\": \"abcdkey\",\n    \"authToken\": \"{{access_token}}\",\n    \"tenantId\": \"{{tenantId}}\",\n    \"userInfo\": {\n      \"userName\": \"HOD\",\n      \"tenantId\": \"{{tenantId}}\"\n    }\n  },\n    \"remarks\": [\n        {\n            \"id\": \"8272cc1f131c49d9862a82829acf7e27\",\n            \"tenantId\": \"default\",\n            \"typeOfDocument\": {\n                \"tenantId\": \"{{tenantId}}\",\n                \"name\": \"{{typeOfDocument}}\"\n            },\n            \"remarksType\": {\n                \"tenantId\": \"{{tenantId}}\",\n                \"name\": \"{{remarksType}}\"\n            },\n            \"remarksDetails\": [\n                {\n                    \"id\": \"7340f4cc435d4c4cbf1028175c18dd1d\",\n                    \"tenantId\": \"default\",\n                    \"remarks\": \"8272cc1f131c49d9862a82829acf7e27\",\n                    \"remarksDescription\": \"Remarks Description for Approved Work order\",\n                    \"editable\": true,\n                    \"deleted\": false,\n                    \"auditDetails\": null\n                }\n            ],\n            \"deleted\": false,\n            \"auditDetails\": null\n        }\n    ]\n}"
						},
						"url": {
							"raw": "{{url}}/works-masters/v1/remarks/_update",
							"host": [
								"{{url}}"
							],
							"path": [
								"works-masters",
								"v1",
								"remarks",
								"_update"
							]
						},
						"description": ""
					},
					"response": []
				}
			]
		},
		{
			"name": "Milestone Template",
			"description": "",
			"item": [
				{
					"name": "Create MT",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"id": "2025a55e-0f02-4eec-a410-2a1ea8ae1fb6",
								"type": "text/javascript",
								"exec": [
									"var num1 = Math.round((Math.random() * 100));",
									"",
									"pm.environment.set(\"MT_code\", \"MT\"+num1);"
								]
							}
						},
						{
							"listen": "test",
							"script": {
								"id": "95f5bdce-b6b9-48cb-b943-3cbccff9d61b",
								"type": "text/javascript",
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"var jsonData = JSON.parse(responseBody);",
									"",
									"pm.environment.set(\"MT_id\", jsonData.milestoneTemplates[0].id);",
									"pm.environment.set(\"MT_code\", jsonData.milestoneTemplates[0].code);",
									"pm.environment.set(\"MT_activities\",jsonData.milestoneTemplates[0].milestoneTemplateActivities[0].id);"
								]
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"RequestInfo\": {\n    \"apiId\": \"works-masters\",\n    \"ver\": \"1.0\",\n    \"ts\": \"10032017\",\n    \"action\": \"create\",\n    \"did\": \"1\",\n    \"key\": \"abcdkey\",\n    \"msgId\": \"20170310130900\",\n    \"requesterId\": \"clerk\",\n    \"authToken\": \"{{access_token}}\",\n    \"tenantId\": \"{{tenantId}}\"\n  },\n  \"milestoneTemplates\": [\n    {\n      \"tenantId\": \"{{tenantId}}\",\n      \"name\": \"Builings Milestone Template\",\n      \"code\": \"{{MT_code}}\",\n      \"active\": true,\n      \"description\": \"Milestone Template for PWD Building works\",\n      \"typeOfWork\": {\n        \"code\": \"Buildings\"\n      },\n      \"milestoneTemplateActivities\": [\n        {\n          \"tenantId\": \"{{tenantId}}\",\n          \"stageOrderNumber\": 1,\n          \"stageDescription\": \"Phase One\",\n          \"percentage\": 50\n        },\n        {\n          \"tenantId\": \"{{tenantId}}\",\n          \"stageOrderNumber\": 2,\n          \"stageDescription\": \"Phase Two\",\n          \"percentage\": 50\n        }\n      ]\n    }\n  ]\n}"
						},
						"url": {
							"raw": "{{url}}/works-masters/v1/milestonetemplates/_create",
							"host": [
								"{{url}}"
							],
							"path": [
								"works-masters",
								"v1",
								"milestonetemplates",
								"_create"
							]
						},
						"description": ""
					},
					"response": []
				},
				{
					"name": "MT_Search_byID",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "50e6a50d-8e3d-4edf-98ee-7fbdb6a0be21",
								"type": "text/javascript",
								"exec": [
									"var jsonData = JSON.parse(responseBody);",
									"var mtResponse = jsonData.milestoneTemplates;",
									"pm.environment.set(\"milestoneTemplates\", JSON.stringify(mtResponse));"
								]
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"RequestInfo\": {\n        \"apiId\": \"works-master\",\n        \"ver\": \"1.0\",\n        \"ts\": \"10032017\",\n        \"action\": \"search\",\n        \"did\": \"1\",\n        \"key\": \"abcdkey\",\n        \"msgId\": \"20170310130900\",\n        \"requesterId\": \"clerk\",\n        \"authToken\": \"{{access_token}}\"\n    }\n}"
						},
						"url": {
							"raw": "{{url}}/works-masters/v1/milestonetemplates/_search?tenantId={{tenantId}}&ids={{MT_id}}",
							"host": [
								"{{url}}"
							],
							"path": [
								"works-masters",
								"v1",
								"milestonetemplates",
								"_search"
							],
							"query": [
								{
									"key": "tenantId",
									"value": "{{tenantId}}",
									"equals": true
								},
								{
									"key": "ids",
									"value": "{{MT_id}}",
									"equals": true
								}
							]
						},
						"description": ""
					},
					"response": []
				},
				{
					"name": "Update MT",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"id": "8ea58898-8045-4f93-b49e-f760a0e39a62",
								"type": "text/javascript",
								"exec": [
									"var mt = pm.environment.get(\"milestoneTemplates\");"
								]
							}
						},
						{
							"listen": "test",
							"script": {
								"id": "c2318caa-f12e-4717-ae88-84341cea78d0",
								"type": "text/javascript",
								"exec": [
									"var jsonData = JSON.parse(responseBody);",
									"",
									"pm.environment.set(\"MT_code\", jsonData.milestoneTemplates[0].code);"
								]
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"RequestInfo\": {\n    \"apiId\": \"works-master\",\n    \"ver\": \"1.0\",\n    \"ts\": \"10032017\",\n    \"action\": \"update\",\n    \"did\": \"1\",\n    \"key\": \"abcdkey\",\n    \"msgId\": \"20170310130900\",\n    \"requesterId\": \"clerk\",\n    \"tenantId\": \"{{tenantId}}\",\n    \"authToken\": \"{{access_token}}\"\n  },\n    \"milestoneTemplates\": [\n        {\n            \"id\": \"b429cf56646043a8bafaddaa6c59f3f2\",\n            \"tenantId\": \"default\",\n            \"name\": \"Builings Milestone Template\",\n            \"code\": \"MT8.1\",\n            \"active\": true,\n            \"description\": \"Milestone Template for PWD Building works\",\n            \"typeOfWork\": {\n                \"code\": \"Buildings\"\n            },\n            \"milestoneTemplateActivities\": [\n                {\n                    \"id\": \"c04c67ad722f4bd48a76098cb87c67b1\",\n                    \"tenantId\": \"default\",\n                    \"milestoneTemplate\": \"b429cf56646043a8bafaddaa6c59f3f2\",\n                    \"stageOrderNumber\": 1,\n                    \"stageDescription\": \"Phase One\",\n                    \"percentage\": 50,\n                    \"auditDetails\": null,\n                    \"deleted\": false\n                },\n                {\n                    \"id\": \"4fdfa318d7b34cf79dd61785ef92e425\",\n                    \"tenantId\": \"default\",\n                    \"milestoneTemplate\": \"b429cf56646043a8bafaddaa6c59f3f2\",\n                    \"stageOrderNumber\": 2,\n                    \"stageDescription\": \"Phase Two\",\n                    \"percentage\": 50,\n                    \"auditDetails\": null,\n                    \"deleted\": false\n                }\n            ],\n            \"auditDetails\": null,\n            \"deleted\": false\n        }\n    ]\n}"
						},
						"url": {
							"raw": "{{url}}/works-masters/v1/milestonetemplates/_update",
							"host": [
								"{{url}}"
							],
							"path": [
								"works-masters",
								"v1",
								"milestonetemplates",
								"_update"
							]
						},
						"description": ""
					},
					"response": []
				},
				{
					"name": "MT_Search_byCode",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "50e6a50d-8e3d-4edf-98ee-7fbdb6a0be21",
								"type": "text/javascript",
								"exec": [
									"var jsonData = JSON.parse(responseBody);",
									"var mtResponse = jsonData.milestoneTemplates;",
									"pm.environment.set(\"milestoneTemplates\", JSON.stringify(mtResponse));"
								]
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"RequestInfo\": {\n        \"apiId\": \"works-master\",\n        \"ver\": \"1.0\",\n        \"ts\": \"10032017\",\n        \"action\": \"search\",\n        \"did\": \"1\",\n        \"key\": \"abcdkey\",\n        \"msgId\": \"20170310130900\",\n        \"requesterId\": \"clerk\",\n        \"authToken\": \"{{access_token}}\"\n    }\n}"
						},
						"url": {
							"raw": "{{url}}/works-masters/v1/milestonetemplates/_search?tenantId={{tenantId}}&codes={{MT_code}}",
							"host": [
								"{{url}}"
							],
							"path": [
								"works-masters",
								"v1",
								"milestonetemplates",
								"_search"
							],
							"query": [
								{
									"key": "tenantId",
									"value": "{{tenantId}}",
									"equals": true
								},
								{
									"key": "codes",
									"value": "{{MT_code}}",
									"equals": true
								}
							]
						},
						"description": ""
					},
					"response": []
				},
				{
					"name": "MT_Create_Required",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"id": "b429a7a9-eba8-415d-b6b9-247f830833c2",
								"type": "text/javascript",
								"exec": [
									"var num1 = Math.round((Math.random() * 10));",
									"",
									"pm.environment.set(\"MT_code\", \"MT\"+num1);"
								]
							}
						},
						{
							"listen": "test",
							"script": {
								"id": "95f5bdce-b6b9-48cb-b943-3cbccff9d61b",
								"type": "text/javascript",
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"var jsonData = JSON.parse(responseBody);",
									"",
									"pm.environment.set(\"MT_id\", jsonData.milestoneTemplates[0].id);",
									"pm.environment.set(\"MT_code\", jsonData.milestoneTemplates[0].code);",
									"pm.environment.set(\"MT_activities\",jsonData.milestoneTemplates[0].milestoneTemplateActivities[0].id);"
								]
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"RequestInfo\": {\n    \"apiId\": \"works-masters\",\n    \"ver\": \"1.0\",\n    \"ts\": \"10032017\",\n    \"action\": \"create\",\n    \"did\": \"1\",\n    \"key\": \"abcdkey\",\n    \"msgId\": \"20170310130900\",\n    \"requesterId\": \"clerk\",\n    \"authToken\": \"{{access_token}}\",\n    \"tenantId\": \"{{tenantId}}\"\n  },\n  \"milestoneTemplates\": [\n    {\n      \"tenantId\": null,\n      \"name\": null,\n      \"code\": null,\n      \"active\": null,\n      \"description\": \"First Phase milestone Template for PWD\",\n      \"typeOfWork\": {\n        \"code\": null\n      },\n      \"milestoneTemplateActivities\": [\n        {\n          \"tenantId\": null,\n          \"stageOrderNumber\": null,\n          \"stageDescription\": null,\n          \"percentage\": null\n        }\n      ]\n    }\n  ]\n}"
						},
						"url": {
							"raw": "{{url}}/works-masters/v1/milestonetemplates/_create",
							"host": [
								"{{url}}"
							],
							"path": [
								"works-masters",
								"v1",
								"milestonetemplates",
								"_create"
							]
						},
						"description": "tenantId\nname\ncode\nactive\ntypeOfWork{code}\nmilestoneTemplateActivities[tenantId, stageOrderNumber, stageDescription, percentage]"
					},
					"response": []
				}
			]
		},
		{
			"name": "Estimate Template",
			"description": "",
			"item": [
				{
					"name": "typeOfWork_MDMS",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "1bc53973-4445-4f2f-8573-938198877760",
								"type": "text/javascript",
								"exec": [
									"var jsonData = JSON.parse(responseBody);",
									"",
									"var typeOfWork = jsonData.MdmsRes.Works.TypeOfWork;",
									"var typeOfWorkCode = [];",
									"",
									"for(var i=0;i<typeOfWork.length; i++){",
									"    typeOfWorkCode[i] = jsonData.MdmsRes.Works.TypeOfWork[i].code;",
									"}",
									"var code = typeOfWorkCode[Math.floor(Math.random() * typeOfWork.length)];",
									"pm.environment.set(\"typeCode\", code);"
								]
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"RequestInfo\": {\n    \"apiId\": \"works-services\",\n    \"ver\": null,\n    \"ts\": null,\n    \"action\": \"Search\",\n    \"did\": null,\n    \"key\": null,\n    \"msgId\": \"search with from and to values\",\n    \"authToken\": \"{{access_token}}\",\n    \"tenantId\": \"{{tenantId}}\"\n  },\n  \"MdmsCriteria\": {\n    \"tenantId\": \"{{tenantId}}\",\n    \"moduleDetails\": [\n      {\n        \"moduleName\": \"Works\",\n        \"masterDetails\": [\n          {\n            \"name\": \"TypeOfWork\"\n          }\n        ]\n      }\n    ]\n  }\n}"
						},
						"url": {
							"raw": "{{url}}/egov-mdms-service/v1/_search",
							"host": [
								"{{url}}"
							],
							"path": [
								"egov-mdms-service",
								"v1",
								"_search"
							]
						},
						"description": null
					},
					"response": []
				},
				{
					"name": "Create ET",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"id": "1711c7c5-e3e5-4ce2-a6b0-9cd3a1a87910",
								"type": "text/javascript",
								"exec": [
									"var num1 = Math.round((Math.random() * 100));",
									"var num2 = pm.globals.get(\"j\");",
									"pm.environment.set(\"ET_code\", \"ET\"+(++num2));",
									"pm.globals.set(\"j\", num2);"
								]
							}
						},
						{
							"listen": "test",
							"script": {
								"id": "0f831016-d4a1-45fc-8d07-069f0290abb9",
								"type": "text/javascript",
								"exec": [
									"var jsonData = JSON.parse(responseBody);",
									"",
									"if(pm.response.to.have.status(200)){",
									"tests[\"Status is success\"] = jsonData.ResponseInfo.status.has(\"SUCCESSFUL\");",
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"pm.test(\"Successful POST request\", function () {",
									"    pm.expect(pm.response.code).to.be.oneOf([201,202]);",
									"});",
									"",
									"pm.environment.set(\"ET_id\", jsonData.estimateTemplates[0].id);",
									"pm.environment.set(\"ET_code\", jsonData.estimateTemplates[0].code);",
									"pm.environment.set(\"ETactivity_id\", jsonData.estimateTemplates[0].estimateTemplateActivities[0].id);",
									"pm.environment.set(\"nonSOR_id\", jsonData.estimateTemplates[0].estimateTemplateActivities[0].nonSOR.id);",
									"",
									"}else if(pm.response.to.have.status(400)){",
									"pm.test(\"Duplicate Estimate Template validation message matches\", function () {",
									"    pm.response.to.have.status(400);",
									"    pm.expect(\"Given Estimate Template already exists: \"+\"ET_code\").to.include(jsonData.Errors[0].message);",
									"});",
									"}"
								]
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"RequestInfo\": {\n    \"apiId\": \"works-masters\",\n    \"ver\": \"1.0\",\n    \"ts\": \"10032017\",\n    \"action\": \"create\",\n    \"did\": \"1\",\n    \"key\": \"abcdkey\",\n    \"msgId\": \"20170310130900\",\n    \"requesterId\": \"clerk\",\n    \"authToken\": \"{{access_token}}\"\n  },\n  \"estimateTemplates\": [\n    {\n      \"tenantId\": \"{{tenantId}}\",\n      \"name\": \"ROADs Estimate Template\",\n      \"code\": \"{{ET_code}}\",\n      \"active\": true,\n      \"description\": \"Estimate Template for Road\",\n      \"typeOfWork\": {\n        \"code\": \"{{typeCode}}\"\n      },\n      \"estimateTemplateActivities\": [\n        {\n          \"tenantId\": \"{{tenantId}}\",\n          \"uom\": {\n            \"code\": \"NOS\"\n          },\n          \"nonSOR\": {\n            \"tenantId\": \"{{tenantId}}\",\n            \"description\": \"Man power\",\n            \"uom\": {\n              \"code\":\"NOS\"\n            }\n          }\n        }\n      ]\n    }\n  ]\n}"
						},
						"url": {
							"raw": "{{url}}/works-masters/v1/estimatetemplates/_create",
							"host": [
								"{{url}}"
							],
							"path": [
								"works-masters",
								"v1",
								"estimatetemplates",
								"_create"
							]
						},
						"description": "Estimate Templates for work creation"
					},
					"response": []
				},
				{
					"name": "Create ET with SOR",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"id": "1711c7c5-e3e5-4ce2-a6b0-9cd3a1a87910",
								"type": "text/javascript",
								"exec": [
									"var num1 = Math.round((Math.random() * 100));",
									"var num2 = pm.globals.get(\"j\");",
									"pm.environment.set(\"ET_code\", \"ET\"+(++num2));",
									"pm.globals.set(\"j\", num2);"
								]
							}
						},
						{
							"listen": "test",
							"script": {
								"id": "107fbbeb-2bd0-4bba-8629-af29b7b6088a",
								"type": "text/javascript",
								"exec": [
									"var jsonData = JSON.parse(responseBody);",
									"",
									"if(pm.response.to.have.status(200)){",
									"tests[\"Status is success\"] = jsonData.ResponseInfo.status.has(\"SUCCESSFUL\");",
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"// pm.test(\"Successful POST request\", function () {",
									"//     pm.expect(pm.response.code).to.be.oneOf([201,202]);",
									"// });",
									"",
									"pm.environment.set(\"ET_id\", jsonData.estimateTemplates[0].id);",
									"pm.environment.set(\"ET_code\", jsonData.estimateTemplates[0].code);",
									"pm.environment.set(\"ETactivity_id\", jsonData.estimateTemplates[0].estimateTemplateActivities[0].estimateTemplate);",
									"",
									"}else if(pm.response.to.have.status(400)){",
									"pm.test(\"Duplicate Estimate Template validation message matches\", function () {",
									"    pm.response.to.have.status(400);",
									"    pm.expect(\"Given Estimate Template already exists: \"+\"ET_code\").to.include(jsonData.Errors[0].message);",
									"});",
									"}"
								]
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"RequestInfo\": {\n    \"apiId\": \"works-master\",\n    \"ver\": \"1.0\",\n    \"ts\": \"10032017\",\n    \"action\": \"create\",\n    \"did\": \"1\",\n    \"key\": \"abcdkey\",\n    \"msgId\": \"20170310130900\",\n    \"requesterId\": \"clerk\",\n    \"authToken\": \"{{access_token}}\",\n    \"tenantId\": \"{{tenantId}}\"\n  },\n  \"estimateTemplates\": [\n    {\n      \"tenantId\": \"{{tenantId}}\",\n      \"name\": \"ROADs Estimate Template\",\n      \"code\": \"{{ET_code}}\",\n      \"active\": true,\n      \"description\": \"Estimate Template for Road\",\n      \"typeOfWork\": {\n        \"code\": \"{{typeCode}}\"\n      },\n      \"estimateTemplateActivities\": [\n         {\n          \"tenantId\": \"{{tenantId}}\",\n          \"scheduleOfRate\":{\n            \"id\": \"{{SOR_id}}\",\n            \"code\": \"{{SOR_code}}\"\n          },\n          \"uom\": {\n            \"code\": \"{{uom}}\"\n          },\n          \"nonSOR\": null,\n          \"deleted\": false          \n        }\n      ]\n    }\n  ]\n}"
						},
						"url": {
							"raw": "{{url}}/works-masters/v1/estimatetemplates/_create",
							"host": [
								"{{url}}"
							],
							"path": [
								"works-masters",
								"v1",
								"estimatetemplates",
								"_create"
							]
						},
						"description": "Estimate Templates for work creation:\nWith only SOR as estimate activity"
					},
					"response": []
				},
				{
					"name": "Create ET with NonSOR",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"id": "1711c7c5-e3e5-4ce2-a6b0-9cd3a1a87910",
								"type": "text/javascript",
								"exec": [
									"var num1 = Math.round((Math.random() * 100));",
									"var num2 = pm.globals.get(\"j\");",
									"pm.environment.set(\"ET_code\", \"ET\"+(++num2));",
									"pm.globals.set(\"j\", num2);"
								]
							}
						},
						{
							"listen": "test",
							"script": {
								"id": "0f831016-d4a1-45fc-8d07-069f0290abb9",
								"type": "text/javascript",
								"exec": [
									"var jsonData = JSON.parse(responseBody);",
									"",
									"if(pm.response.to.have.status(200)){",
									"tests[\"Status is success\"] = jsonData.ResponseInfo.status.has(\"SUCCESSFUL\");",
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"pm.test(\"Successful POST request\", function () {",
									"    pm.expect(pm.response.code).to.be.oneOf([201,202]);",
									"});",
									"",
									"pm.environment.set(\"ET_id\", jsonData.estimateTemplates[0].id);",
									"pm.environment.set(\"ET_code\", jsonData.estimateTemplates[0].code);",
									"pm.environment.set(\"ETactivity_id\", jsonData.estimateTemplates[0].estimateTemplateActivities[0].id);",
									"pm.environment.set(\"nonSOR_id\", jsonData.estimateTemplates[0].estimateTemplateActivities[0].nonSOR.id);",
									"",
									"}else if(pm.response.to.have.status(400)){",
									"pm.test(\"Duplicate Estimate Template validation message matches\", function () {",
									"    pm.response.to.have.status(400);",
									"    pm.expect(\"Given Estimate Template already exists: \"+\"ET_code\").to.include(jsonData.Errors[0].message);",
									"});",
									"}"
								]
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"RequestInfo\": {\n    \"apiId\": \"emp\",\n    \"ver\": \"1.0\",\n    \"ts\": \"10032017\",\n    \"action\": \"create\",\n    \"did\": \"1\",\n    \"key\": \"abcdkey\",\n    \"msgId\": \"20170310130900\",\n    \"requesterId\": \"clerk\",\n    \"authToken\": \"{{access_token}}\"\n  },\n  \"estimateTemplates\": [\n    {\n      \"tenantId\": \"{{tenantId}}\",\n      \"name\": \"ROADs Estimate Template\",\n      \"code\": \"{{ET_code}}\",\n      \"active\": true,\n      \"description\": \"Estimate Template for Road\",\n      \"typeOfWork\": {\n        \"code\": \"ROADS\"\n      },\n      \"estimateTemplateActivities\": [\n        {\n          \"tenantId\": \"{{tenantId}}\",\n          \"estimateTemplate\": null,\n          \"scheduleOfRate\": null,          \n          \"uom\": {\n            \"code\": \"NOS\"\n          },\n          \"nonSOR\": {\n            \"tenantId\": \"{{tenantId}}\",\n            \"description\": \"Man power\",\n            \"uom\": {\n              \"code\":\"NOS\"\n            }\n          }\n        }\n      ]\n    }\n  ]\n}"
						},
						"url": {
							"raw": "{{url}}/works-masters/v1/estimatetemplates/_create",
							"host": [
								"{{url}}"
							],
							"path": [
								"works-masters",
								"v1",
								"estimatetemplates",
								"_create"
							]
						},
						"description": "Estimate Templates for work creation:\n\nWith only Non SOR as estimate activity"
					},
					"response": []
				},
				{
					"name": "Create ET(SOR & NonSOR)",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"id": "1711c7c5-e3e5-4ce2-a6b0-9cd3a1a87910",
								"type": "text/javascript",
								"exec": [
									"var num1 = Math.round((Math.random() * 100));",
									"var num2 = pm.globals.get(\"j\");",
									"pm.environment.set(\"ET_code\", \"ET\"+(++num2));",
									"pm.globals.set(\"j\", num2);"
								]
							}
						},
						{
							"listen": "test",
							"script": {
								"id": "a224e367-f380-40aa-9cc2-9b1a5c2c439a",
								"type": "text/javascript",
								"exec": [
									"// var jsonData = JSON.parse(responseBody);",
									"",
									"// if(pm.response.to.have.status(200)){",
									"// tests[\"Status is success\"] = jsonData.ResponseInfo.status.has(\"SUCCESSFUL\");",
									"// pm.test(\"Status code is 200\", function () {",
									"//     pm.response.to.have.status(200);",
									"// });",
									"// pm.test(\"Successful POST request\", function () {",
									"//     pm.expect(pm.response.code).to.be.oneOf([201,202]);",
									"// });",
									"",
									"// pm.environment.set(\"ET_id\", jsonData.estimateTemplates[0].id);",
									"// pm.environment.set(\"ET_code\", jsonData.estimateTemplates[0].code);",
									"// pm.environment.set(\"ETactivity_id\", jsonData.estimateTemplates[0].estimateTemplateActivities[0].id);",
									"// pm.environment.set(\"nonSOR_id\", jsonData.estimateTemplates[0].estimateTemplateActivities[1].nonSOR.id);",
									"",
									"// }else if(pm.response.to.have.status(400)){",
									"// pm.test(\"Duplicate Estimate Template validation message matches\", function () {",
									"//     pm.response.to.have.status(400);",
									"//     pm.expect(\"Given Estimate Template already exists: \"+\"ET_code\").to.include(jsonData.Errors[0].message);",
									"// });",
									"// }"
								]
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"RequestInfo\": {\n    \"apiId\": \"emp\",\n    \"ver\": \"1.0\",\n    \"ts\": \"10032017\",\n    \"action\": \"create\",\n    \"did\": \"1\",\n    \"key\": \"abcdkey\",\n    \"msgId\": \"20170310130900\",\n    \"requesterId\": \"clerk\",\n    \"authToken\": \"{{access_token}}\"\n  },\n  \"estimateTemplates\": [\n    {\n      \"tenantId\": \"{{tenantId}}\",\n      \"name\": \"Buildings Estimate Template\",\n      \"code\": \"{{ET_code}}\",\n      \"active\": true,\n      \"description\": \"Estimate Template for Buildings supplies\",\n      \"typeOfWork\": {\n        \"code\": \"{{typeCode}}\"\n      },\n      \"estimateTemplateActivities\": [\n        {\n          \"tenantId\": \"{{tenantId}}\",\n          \"scheduleOfRate\":{\n            \"id\": \"03b0157ff1594d8ab058ddf0cc24a4f5\",\n            \"code\": \"SOR63\"\n          },\n          \"uom\": {\n            \"code\": \"TON\"\n          },\n          \"nonSOR\": null,\n          \"deleted\": false          \n        },\n        \n        {\n          \"tenantId\": \"{{tenantId}}\",\n          \"scheduleOfRate\": null,\n          \"uom\": {\n            \"code\": \"TON\"\n          },\n          \"nonSOR\": {\n            \"tenantId\": \"{{tenantId}}\",\n            \"description\": \"Man power\",\n            \"uom\": {\n              \"code\": \"NOS\"\n            }\n          },\n          \"deleted\": false\n        }\n      ]\n    }\n  ]\n}"
						},
						"url": {
							"raw": "{{url}}/works-masters/v1/estimatetemplates/_create",
							"host": [
								"{{url}}"
							],
							"path": [
								"works-masters",
								"v1",
								"estimatetemplates",
								"_create"
							]
						},
						"description": "Create Estimate Templates for work creation with both SOR and Non SOR"
					},
					"response": []
				},
				{
					"name": "Search ET",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"RequestInfo\": {\n        \"apiId\": \"emp\",\n        \"ver\": \"1.0\",\n        \"ts\": \"10032017\",\n        \"action\": \"search\",\n        \"did\": \"1\",\n        \"key\": \"abcdkey\",\n        \"msgId\": \"20170310130900\",\n        \"requesterId\": \"\",\n        \"authToken\": \"{{access_token}}\"\n    }\n}"
						},
						"url": {
							"raw": "{{url}}/works-masters/v1/estimatetemplates/_search?tenantId={{tenantId}}&ids={{ET_id}}",
							"host": [
								"{{url}}"
							],
							"path": [
								"works-masters",
								"v1",
								"estimatetemplates",
								"_search"
							],
							"query": [
								{
									"key": "tenantId",
									"value": "{{tenantId}}",
									"equals": true
								},
								{
									"key": "ids",
									"value": "{{ET_id}}",
									"equals": true
								}
							]
						},
						"description": "Search Estimate Templates created"
					},
					"response": []
				},
				{
					"name": "Update ET",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"RequestInfo\": {\n    \"apiId\": \"emp\",\n    \"ver\": \"1.0\",\n    \"ts\": \"10032017\",\n    \"action\": \"update\",\n    \"did\": \"1\",\n    \"key\": \"abcdkey\",\n    \"msgId\": \"20170310130900\",\n    \"requesterId\": \"clerk\",\n    \"authToken\": \"{{access_token}}\",\n    \"tenantId\": \"{{tenantId}}\"\n  },\n    \"estimateTemplates\": [\n        {\n            \"id\": \"aee7540a77cc4238a99400e7bfe843ce\",\n            \"tenantId\": \"default\",\n            \"name\": \"ROADs for park Estimate Template\",\n            \"code\": \"ET101\",\n            \"active\": true,\n            \"description\": \"Estimate Template for Park Road\",\n            \"typeOfWork\": {\n                \"id\": null,\n                \"tenantId\": null,\n                \"name\": null,\n                \"code\": \"PARKS\",\n                \"description\": null,\n                \"active\": null,\n                \"parent\": null\n            },\n            \"subTypeOfWork\": null,\n            \"estimateTemplateActivities\": [\n                {\n                    \"id\": \"c2823974b5904188a00e90778902ac8f\",\n                    \"tenantId\": \"default\",\n                    \"estimateTemplate\": \"aee7540a77cc4238a99400e7bfe843ce\",\n                    \"scheduleOfRate\": {\n                        \"id\": \"8b25f3df701840a5873819761645a93d\",\n                        \"tenantId\": null,\n                        \"code\": \"SOR107\",\n                        \"description\": null,\n                        \"scheduleCategory\": null,\n                        \"uom\": null,\n                        \"sorRates\": [],\n                        \"marketRates\": null,\n                        \"deleted\": false,\n                        \"auditDetails\": null\n                    },\n                    \"uom\": {\n                        \"id\": null,\n                        \"code\": \"NOS\",\n                        \"description\": null,\n                        \"category\": null,\n                        \"active\": true,\n                        \"coversionFactor\": null,\n                        \"baseuom\": false,\n                        \"createdBy\": null,\n                        \"createdDate\": null,\n                        \"lastModifiedBy\": null,\n                        \"lastModifiedDate\": null\n                    },\n                    \"nonSOR\": null,\n                    \"deleted\": false,\n                    \"auditDetails\": {\n                        \"createdBy\": \"clerk\",\n                        \"lastModifiedBy\": \"clerk\",\n                        \"createdTime\": 1514892507713,\n                        \"lastModifiedTime\": 1514892507713\n                    }\n                }\n            ],\n            \"deleted\": false,\n            \"auditDetails\": {\n                \"createdBy\": \"clerk\",\n                \"lastModifiedBy\": \"clerk\",\n                \"createdTime\": 1514892507713,\n                \"lastModifiedTime\": 1514892507713\n            }\n        }\n    ]\n}"
						},
						"url": {
							"raw": "{{url}}/works-masters/v1/estimatetemplates/_update",
							"host": [
								"{{url}}"
							],
							"path": [
								"works-masters",
								"v1",
								"estimatetemplates",
								"_update"
							]
						},
						"description": "Update/Modify the ET created as per the requirement"
					},
					"response": []
				},
				{
					"name": "Create ET Validations",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"id": "aed27b21-649f-4b83-86e1-7335837b6456",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						},
						{
							"listen": "test",
							"script": {
								"id": "8255226a-2003-4cc5-a2f3-f0d775887f5e",
								"type": "text/javascript",
								"exec": [
									"pm.test(\"Status code is 400\", function () {",
									"    pm.response.to.have.status(400);",
									"});",
									"",
									"var jsonData = JSON.parse(responseBody);",
									"",
									"tests[\"Tenant Id Mandatory check Matches\"] = jsonData.Errors[2].message;",
									"tests[\"ET Name Mandatory check Matches\"] = jsonData.Errors[3].message;",
									"tests[\"ET code Mandatory check Matches\"] = jsonData.Errors[7].message;",
									"tests[\"ET active Mandatory check Matches\"] = jsonData.Errors[8].message;",
									"tests[\"Type of work Mandatory check Matches\"] = jsonData.Errors[4].message;",
									"tests[\"Tenant Id (estimateTemplateActivities) Mandatory check Matches\"] = jsonData.Errors[1].message;",
									"tests[\"UOM (estimateTemplateActivities) Mandatory check Matches\"] = jsonData.Errors[0].message;",
									"tests[\"Tenant Id (Non SOR) Mandatory check Matches\"] = jsonData.Errors[6].message;",
									"tests[\"Description (Non SOR) Mandatory check Matches\"] = jsonData.Errors[5].message;",
									"tests[\"UOM (Non SOR) Mandatory check Matches\"] = jsonData.Errors[9].message;",
									"",
									"pm.test(\"Tenant Id Mandatory validation message matches\", function () {",
									"    pm.expect(\"may not be null\").to.include(jsonData.Errors[0].message);",
									"});"
								]
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"RequestInfo\": {\n    \"apiId\": \"emp\",\n    \"ver\": \"1.0\",\n    \"ts\": \"10032017\",\n    \"action\": \"create\",\n    \"did\": \"1\",\n    \"key\": \"abcdkey\",\n    \"msgId\": \"20170310130900\",\n    \"requesterId\": \"\",\n    \"authToken\": \"{{access_token}}\"\n  },\n  \"estimateTemplates\": [\n    {\n      \"tenantId\": null,\n      \"name\": null,\n      \"code\": null,\n      \"active\": null,\n      \"description\": \" Template for laying CC road for 100 metres \",\n      \"typeOfWork\": {\n        \"code\": null\n      },\n      \"estimateTemplateActivities\": [\n        {\n          \"tenantId\": null,\n          \"scheduleOfRate\": {\n            \"code\": \"{{SOR_id}}\"\n          },\n          \"uom\": {\n            \"code\": null\n          },\n          \"nonSOR\": {\n            \"tenantId\": null,\n            \"description\": null,\n            \"uom\": {\n              \"code\": null\n            }\n          }\n        }\n      ]\n    }\n  ]\n}"
						},
						"url": {
							"raw": "{{url}}/works-masters/v1/estimatetemplates/_create",
							"host": [
								"{{url}}"
							],
							"path": [
								"works-masters",
								"v1",
								"estimatetemplates",
								"_create"
							]
						},
						"description": "Mandatory check for create Estimate Template"
					},
					"response": []
				}
			]
		},
		{
			"name": "Contractor Master",
			"description": "",
			"item": [
				{
					"name": "Contractor_mdmsData",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "8fe4d6f4-c00a-4d49-9c38-b90d99c331f1",
								"type": "text/javascript",
								"exec": [
									"var jsonData = JSON.parse(responseBody);",
									"var uom = jsonData.MdmsRes[\"common-masters\"].Uom;",
									"var dep = jsonData.MdmsRes[\"common-masters\"].Department;",
									"var contractor = jsonData.MdmsRes.works.ContractorClass;",
									"",
									"var uomCode = uom[Math.floor(Math.random() * uom.length)];",
									"var depCode = dep[Math.floor(Math.random() * dep.length)];",
									"var contractorClass = contractor[Math.floor(Math.random() * contractor.length)];",
									"",
									"pm.environment.set(\"uom\", uomCode.code);",
									"pm.environment.set(\"dep\", depCode.code);",
									"pm.environment.set(\"contractorClass\", contractorClass.class);"
								]
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{  \n  \"RequestInfo\":{  \n     \"apiId\":\"works-services\",\n      \"ver\":null,\n      \"ts\":null,\n      \"action\":null,\n      \"did\":null,\n      \"key\":null,\n      \"msgId\":\"search with from and to values\",\n      \"authToken\":\"{{access_token}}\",\n      \"tenantId\": \"{{tenantId}}\"\n   },\n   \"MdmsCriteria\":{  \n     \"tenantId\":\"{{tenantId}}\",\n      \"moduleDetails\":[  \n        {  \n           \"moduleName\":\"works\",\n            \"masterDetails\":[  \n               {\n                 \"name\": \"Remarks\"\n               },\n               {\n                 \"name\": \"ContractorClass\"\n               },\n               {\n                 \"name\": \"WorksStatus\"\n               }\n            ]\n         },\n         {  \n           \"moduleName\":\"common-masters\",\n            \"masterDetails\":[  \n              {  \n                 \"name\":\"Department\"\n               },\n               {\n                  \"name\":\"Uom\"\n               }\n            ]\n         }\n      ]\n   }\n}"
						},
						"url": {
							"raw": "{{url}}/egov-mdms-service/v1/_search",
							"host": [
								"{{url}}"
							],
							"path": [
								"egov-mdms-service",
								"v1",
								"_search"
							]
						},
						"description": ""
					},
					"response": []
				},
				{
					"name": "Create Contractor",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"id": "565627af-1e20-4b6f-8cc5-7b32018ac3db",
								"type": "text/javascript",
								"exec": [
									"var num1 = Math.round((Math.random() * 100));",
									"var ulbCode = pm.environment.get(\"tenantId\");",
									"pm.environment.set(\"contractorCode\", ulbCode+\"-Grade-\"+num1);",
									"pm.environment.set(\"contractorName\", \"Contractor\"+\"One\");",
									"pm.environment.set(\"contractorEmail\", \"pro\"+num1+\"@mULB.com\");",
									"var efList = [\"INCOME_TAX\", \"EARNEST_MONEY_DEPOSIT\", \"VAT\"];",
									"pm.environment.set(\"exemptedFrom\", efList[Math.floor(Math.random() * efList.length)]);",
									"pm.environment.set(\"pwdApprovalCode\", \"PWD-A\"+num1);",
									"",
									"// pm.environment.set(\"PAN\",",
									"// pm.environment.set(\"TIN\"",
									"// pm.environment.set(\"BankAcc\"",
									"",
									"// pwdApprovalValidTill",
									"// epfRegistrationNumber",
									"// accountCode",
									"// pmc",
									"// status"
								]
							}
						},
						{
							"listen": "test",
							"script": {
								"id": "cb44ea42-cb66-4b06-9486-45404c138076",
								"type": "text/javascript",
								"exec": [
									"var jsonData = JSON.parse(responseBody);",
									"pm.environment.set(\"contractorId\", jsonData.contractors[0].id);"
								]
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n \"requestInfo\": {\n    \"action\": \"create\",\n    \"did\": \"1\",\n    \"msgId\": \"20170310130900\",\n    \"requesterId\": \"HOD\",\n    \"apiId\": \"works-master\",\n    \"ver\": \"1.0\",\n    \"ts\": 1,\n    \"key\": \"abcdkey\",\n    \"authToken\": \"{{access_token}}\",\n    \"tenantId\": \"{{tenantId}}\"\n   },\n   \"contractors\": [\n     {\n       \"tenantId\": \"{{tenantId}}\",\n       \"name\": \"contractorName\",\n       \"code\": \"{{contractorCode}}\",\n       \"correspondenceAddress\": \"Roha, Maharastra\",\n       \"paymentAddress\": \"Roha, Maharastra\",\n       \"contactPerson\": \"PWD Contractor\",\n       \"email\": \"{{contractorEmail}}\",\n       \"narration\": \"Contractor for the PWD work\",\n       \"mobileNumber\": \"9876543210\",\n       \"panNumber\": null,\n       \"tinNumber\": null,\n       \"bankAccountNumber\": null,\n       \"ifscCode\": null,\n       \"pwdApprovalCode\": \"{{pwdApprovalCode}}\",\n       \"exemptedFrom\": \"{{exemptedFrom}}\",\n       \"pwdApprovalValidTill\": \"1509088047\",\n       \"epfRegistrationNumber\": 250,\n       \"accountCode\":{\n        \"glcode\": \"glCode\"\n        },\n       \"contractorClass\": {\n         \"class\": \"{{contractorClass}}\"\n       },\n       \"pmc\": true,\n       \"status\":{\n         \"code\": \"INACTIVE\"\n       }\n     }\n    ]\n}"
						},
						"url": {
							"raw": "{{url}}/works-masters/v1/contractors/_create",
							"host": [
								"{{url}}"
							],
							"path": [
								"works-masters",
								"v1",
								"contractors",
								"_create"
							]
						},
						"description": null
					},
					"response": []
				},
				{
					"name": "Search Contractor_byID",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "a6040620-2d84-489e-b86c-f0b24c75c451",
								"type": "text/javascript",
								"exec": [
									"var jsonData = JSON.parse(responseBody);",
									"",
									"pm.globals.set(\"contractorCode\", jsonData.contractors[0].code);"
								]
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"RequestInfo\": {\n        \"apiId\": \"emp\",\n        \"ver\": \"1.0\",\n        \"ts\": \"10032017\",\n        \"action\": \"search\",\n        \"did\": \"1\",\n        \"key\": \"abcdkey\",\n        \"msgId\": \"20170310130900\",\n        \"requesterId\": \"\",\n        \"authToken\": \"{{access_token}}\"\n    }\n}"
						},
						"url": {
							"raw": "{{url}}/works-masters/v1/contractors/_search?tenantId={{tenantId}}&ids={{contractorId}}",
							"host": [
								"{{url}}"
							],
							"path": [
								"works-masters",
								"v1",
								"contractors",
								"_search"
							],
							"query": [
								{
									"key": "tenantId",
									"value": "{{tenantId}}",
									"equals": true
								},
								{
									"key": "ids",
									"value": "{{contractorId}}",
									"equals": true
								}
							]
						},
						"description": ""
					},
					"response": []
				},
				{
					"name": "Update Contractor",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"id": "b206d743-be54-473e-ab96-8b20ec50f85e",
								"type": "text/javascript",
								"exec": [
									"var efList = [\"INCOME_TAX\", \"EARNEST_MONEY_DEPOSIT\", \"VAT\"];",
									"pm.environment.set(\"exemptedFrom\", efList[Math.floor(Math.random() * efList.length)]);"
								]
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n \"requestInfo\": {\n    \"action\": \"create\",\n    \"did\": \"1\",\n    \"msgId\": \"20170310130900\",\n    \"requesterId\": \"HOD\",\n    \"apiId\": \"works-master\",\n    \"ver\": \"1.0\",\n    \"ts\": 1,\n    \"key\": \"abcdkey\",\n    \"authToken\": \"{{access_token}}\",\n    \"tenantId\": \"{{tenantId}}\"\n   },\n    \"contractors\": [\n        {\n            \"id\": \"82bfb0c074dc4c088c42ba0b8aa88e48\",\n            \"tenantId\": \"default\",\n            \"name\": \"contractorName\",\n            \"localName\": \"contractorLocalName\",\n            \"code\": \"Grade-87\",\n            \"correspondenceAddress\": \"Roha, Maharastra\",\n            \"paymentAddress\": \"Roha, Maharastra\",\n            \"contactPerson\": \"PWD Contractor\",\n            \"email\": \"pro87@mULB.com\",\n            \"narration\": \"Contractor for the PWD work\",\n            \"mobileNumber\": \"9876543210\",\n            \"panNumber\": \"AAAPL1234C\",\n            \"tinNumber\": \"123456789012\",\n            \"bank\": {\n                \"id\": null,\n                \"code\": null,\n                \"name\": null,\n                \"description\": null,\n                \"active\": null,\n                \"type\": null,\n                \"auditDetails\": null\n            },\n            \"bankAccountNumber\": \"11111111111\",\n            \"pwdApprovalCode\": \"PWD-A87\",\n            \"exemptedFrom\": \"VAT\",\n            \"pwdApprovalValidTill\": 1509088047,\n            \"epfRegistrationNumber\": \"250\",\n            \"accountCode\": {\n                \"id\": null,\n                \"glcode\": \"glCode\",\n                \"name\": null,\n                \"accountCodePurpose\": null,\n                \"description\": null,\n                \"isActiveForPosting\": null,\n                \"parentId\": null,\n                \"type\": null,\n                \"classification\": null,\n                \"functionRequired\": null,\n                \"budgetCheckRequired\": null,\n                \"majorCode\": null,\n                \"isSubLedger\": null,\n                \"auditDetails\": null\n            },\n            \"ifscCode\": \"BANK0123451\",\n            \"contractorClass\": {\n                \"id\": null,\n                \"tenantId\": null,\n                \"class\": \"003 - Fake\",\n                \"description\": null,\n                \"minAmount\": null,\n                \"maxAmount\": null\n            },\n            \"pmc\": true,\n            \"status\": {\n                \"tenantId\": null,\n                \"code\": \"INACTIVE\",\n                \"description\": null,\n                \"moduleType\": null,\n                \"orderNumber\": null\n            },\n            \"deleted\": false,\n            \"auditDetails\": {\n                \"createdBy\": \"HOD\",\n                \"lastModifiedBy\": \"HOD\",\n                \"createdTime\": 1515147830046,\n                \"lastModifiedTime\": 1515147830046\n            }\n        }\n    ]\n}"
						},
						"url": {
							"raw": "{{url}}/works-masters/v1/contractors/_update?tenantId={{tenantId}}",
							"host": [
								"{{url}}"
							],
							"path": [
								"works-masters",
								"v1",
								"contractors",
								"_update"
							],
							"query": [
								{
									"key": "tenantId",
									"value": "{{tenantId}}",
									"equals": true
								}
							]
						},
						"description": null
					},
					"response": []
				},
				{
					"name": "Search Contractor_byCode",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "6e581237-bce1-4eab-996b-13abdfd9db3b",
								"type": "text/javascript",
								"exec": [
									"var jsonData = JSON.parse(responseBody);",
									"var contractors = jsonData.contractors;",
									"var activeContractors = contractors[Math.floor(Math.random()) * contractors.length];",
									"pm.environment.set(\"contractor\" ,activeContractors.code);"
								]
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"RequestInfo\": {\n        \"apiId\": \"emp\",\n        \"ver\": \"1.0\",\n        \"ts\": \"10032017\",\n        \"action\": \"search\",\n        \"did\": \"1\",\n        \"key\": \"abcdkey\",\n        \"msgId\": \"20170310130900\",\n        \"requesterId\": \"\",\n        \"authToken\": \"{{access_token}}\"\n    }\n}"
						},
						"url": {
							"raw": "{{url}}/works-masters/v1/contractors/_search?tenantId={{tenantId}}&statuses=ACTIVE",
							"host": [
								"{{url}}"
							],
							"path": [
								"works-masters",
								"v1",
								"contractors",
								"_search"
							],
							"query": [
								{
									"key": "tenantId",
									"value": "{{tenantId}}",
									"equals": true
								},
								{
									"key": "statuses",
									"value": "ACTIVE",
									"equals": true
								}
							]
						},
						"description": null
					},
					"response": []
				}
			]
		},
		{
			"name": "SOR Masters",
			"description": "",
			"item": [
				{
					"name": "SOR_mdmsData",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "584c4654-8e0f-4400-a6fa-9a0b55a53369",
								"type": "text/javascript",
								"exec": [
									"var jsonData = JSON.parse(responseBody);",
									"var uom = jsonData.MdmsRes[\"common-masters\"].Uom;",
									"var dep = jsonData.MdmsRes[\"common-masters\"].Department;",
									"var typeOfWork = jsonData.MdmsRes.works.TypeOfWork;",
									"var scheduleCategory = jsonData.MdmsRes.works.ScheduleCategory;",
									"",
									"var uomCode = uom[Math.floor(Math.random() * uom.length)];",
									"var depCode = dep[Math.floor(Math.random() * dep.length)];",
									"var typeOfWorkCode = typeOfWork[Math.floor(Math.random() * typeOfWork.length)];",
									"var scheduleCategoryCode = scheduleCategory[Math.floor(Math.random() * scheduleCategory.length)];",
									"",
									"pm.environment.set(\"uom\", uomCode.code);",
									"pm.environment.set(\"dep\", depCode.code);",
									"pm.environment.set(\"typeCode\", typeOfWorkCode.code);",
									"pm.environment.set(\"scheduleCategory\", scheduleCategoryCode.code);"
								]
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"RequestInfo\": {\n    \"apiId\": \"works-services\",\n    \"ver\": null,\n    \"ts\": null,\n    \"action\": null,\n    \"did\": null,\n    \"key\": null,\n    \"msgId\": \"search with from and to values\",\n    \"authToken\": \"{{access_token}}\",\n    \"tenantId\": \"{{tenantId}}\"\n  },\n  \"MdmsCriteria\": {\n    \"tenantId\": \"{{tenantId}}\",\n    \"moduleDetails\": [\n      {\n        \"moduleName\": \"works\",\n        \"masterDetails\": [\n          {\n            \"name\": \"ScheduleCategory\"\n          },\n          {\n            \"name\": \"TypeOfWork\"\n          },\n          {\n            \"name\": \"Overhead\"\n          },\n          {\n            \"name\": \"Remarks\"\n          },\n          {\n            \"name\": \"ReferenceType\"\n          },\n          {\n            \"name\": \"BudgetGroup\"\n          },\n          {\n            \"name\": \"NatureOfWork\"\n          },\n          {\n            \"name\": \"ModeOfAllotment\"\n          },\n          {\n            \"name\": \"ContractorClass\"\n          },\n          {\n            \"name\": \"WorksStatus\"\n          }\n        ]\n      },\n      {\n        \"moduleName\": \"common-masters\",\n        \"masterDetails\": [\n          {\n            \"name\": \"Department\"\n          },\n          {\n            \"name\": \"Uom\"\n          }\n        ]\n      }\n    ]\n  }\n}"
						},
						"url": {
							"raw": "{{url}}/egov-mdms-service/v1/_search",
							"host": [
								"{{url}}"
							],
							"path": [
								"egov-mdms-service",
								"v1",
								"_search"
							]
						},
						"description": ""
					},
					"response": []
				},
				{
					"name": "Create SOR",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"id": "1925975e-ed86-480b-9b99-f398e4722ea5",
								"type": "text/javascript",
								"exec": [
									"var num1 = Math.round((Math.random() * 100));",
									"var num2 = pm.globals.get(\"i\");",
									"pm.environment.set(\"SOR_code\", \"SOR\"+(++num2));",
									"pm.globals.set(\"i\", num2);"
								]
							}
						},
						{
							"listen": "test",
							"script": {
								"id": "217a2ff8-bc90-426e-8215-b75ef343a68b",
								"type": "text/javascript",
								"exec": [
									"var createSorResponse = JSON.parse(responseBody);",
									"",
									"pm.environment.set(\"SOR_id\", createSorResponse.scheduleOfRates[0].id);",
									"pm.environment.set(\"SOR_code\", createSorResponse.scheduleOfRates[0].code);",
									"",
									"var sorRates = createSorResponse.scheduleOfRates[0].sorRates;",
									"var marketRates = createSorResponse.scheduleOfRates[0].marketRates;",
									"",
									"if(sorRates.length !== 0){",
									"    for(var i=0; i<sorRates.length; i++){",
									"        pm.environment.set(\"sorRatesId\"+i, sorRates[i].id);",
									"    }    ",
									"}",
									"",
									"if(marketRates.length !== 0){",
									"    for(var i=0; i<sorRates.length; i++){",
									"        pm.environment.set(\"sorRatesId\", sorRates[i].id);",
									"    }    ",
									"}",
									"",
									"",
									"",
									"",
									"tests[\"Status is success\"] = createSorResponse.ResponseInfo.status.has(\"SUCCESSFUL\");",
									"",
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"pm.test(\"Successful POST request\", function () {",
									"    pm.expect(pm.response.code).to.be.oneOf([201,202]);",
									"});",
									"",
									"pm.environment.set(\"sorCreate\", JSON.stringify(createSorResponse));"
								]
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n  \"RequestInfo\": {\r\n    \"apiId\": \"works-masters\",\r\n    \"ver\": \"string\",\r\n    \"ts\": 0,\r\n    \"action\": \"create\",\r\n    \"did\": \"string\",\r\n    \"key\": \"string\",\r\n    \"msgId\": \"string\",\r\n    \"requesterId\": \"string\",\r\n    \"authToken\": \"{{access_token}}\"\r\n  },\r\n  \"scheduleOfRates\": [\r\n    {\r\n      \"tenantId\": \"{{tenantId}}\",\r\n      \"code\": \"{{SOR_code}}\",\r\n      \"description\": \"Rates for CC-ash Road work\",\r\n      \"scheduleCategory\": {\r\n        \"tenantId\": \"{{tenantId}}\",\r\n        \"code\": \"{{scheduleCategory}}\"\r\n      },\r\n      \"uom\": {\r\n        \"tenantId\": \"{{tenantId}}\",\r\n        \"code\": \"{{uom}}\"\r\n      },\r\n      \"sorRates\": [\r\n        {\r\n          \"tenantId\": \"{{tenantId}}\",\r\n          \"fromDate\": 1491037200000,\r\n          \"toDate\": 1533114000000,\r\n          \"rate\": 1000,\r\n          \"deleted\": false\r\n        },\r\n        {\r\n          \"tenantId\": \"{{tenantId}}\",\r\n          \"fromDate\": 1533200400000,\r\n          \"toDate\": 1543654800000,\r\n          \"rate\": 2000,\r\n          \"deleted\": false\r\n        },\r\n        {\r\n          \"tenantId\": \"{{tenantId}}\",\r\n          \"fromDate\": 1543741200000,\r\n          \"toDate\": 1554022800000,\r\n          \"rate\": 3000,\r\n          \"deleted\": false\r\n        }\r\n      ],\r\n      \"marketRates\": [\r\n        {\r\n          \"tenantId\": \"{{tenantId}}\",\r\n          \"fromDate\": 1491037200000,\r\n          \"toDate\": 1533114000000,\r\n          \"rate\": 1000,\r\n          \"deleted\": false\r\n        },\r\n        {\r\n          \"tenantId\": \"{{tenantId}}\",\r\n          \"fromDate\": 1533200400000,\r\n          \"toDate\": 1543654800000,\r\n          \"rate\": 2000,\r\n          \"deleted\": false\r\n        },\r\n        {\r\n          \"tenantId\": \"{{tenantId}}\",\r\n          \"fromDate\": 1543741200000,\r\n          \"toDate\": 1554022800000,\r\n          \"rate\": 3000,\r\n          \"deleted\": false\r\n        }\r\n    ]\r\n    }\r\n  ]\r\n}"
						},
						"url": {
							"raw": "{{url}}/works-masters/v1/scheduleofrates/_create",
							"host": [
								"{{url}}"
							],
							"path": [
								"works-masters",
								"v1",
								"scheduleofrates",
								"_create"
							]
						},
						"description": "Create SOR as works master data"
					},
					"response": []
				},
				{
					"name": "Search SOR",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "90db05ca-95b2-4797-b8d8-6148e2d02d15",
								"type": "text/javascript",
								"exec": [
									"var sorResponse = JSON.parse(responseBody);",
									"var sorCreate = JSON.parse(environment.sorCreate);",
									"",
									"pm.test(\"SOR code matches\", function () {",
									"pm.expect(pm.environment.get(\"SOR_code\")).to.include(sorResponse.scheduleOfRates[0].code);",
									"});",
									"",
									"pm.test(\"SOR ID matches\", function () {",
									"pm.expect(pm.environment.get(\"SOR_id\")).to.include(sorResponse.scheduleOfRates[0].id);",
									"});",
									"",
									"pm.globals.set(\"sorCode\", sorResponse.scheduleOfRates[0].code);",
									"pm.globals.set(\"sorId\", sorResponse.scheduleOfRates[0].id);"
								]
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n  \"RequestInfo\":{\r\n  \"apiId\": \"works-masters\",\r\n  \"ver\": \"1.0\",\r\n  \"ts\": 0,\r\n  \"action\": \"search\",\r\n  \"did\": \"1\",\r\n  \"key\": \"string\",\r\n  \"msgId\": \"string\",\r\n  \"requesterId\": \"clerk\",\r\n  \"authToken\": \"{{access_token}}\"\r\n  }\r\n}"
						},
						"url": {
							"raw": "{{url}}/works-masters/v1/scheduleofrates/_search?tenantId={{tenantId}}&sorCodes={{SOR_code}}&ids={{SOR_id}}",
							"host": [
								"{{url}}"
							],
							"path": [
								"works-masters",
								"v1",
								"scheduleofrates",
								"_search"
							],
							"query": [
								{
									"key": "tenantId",
									"value": "{{tenantId}}",
									"equals": true
								},
								{
									"key": "sorCodes",
									"value": "{{SOR_code}}",
									"equals": true
								},
								{
									"key": "ids",
									"value": "{{SOR_id}}",
									"equals": true
								}
							]
						},
						"description": "Search SOR master data"
					},
					"response": []
				},
				{
					"name": "Update SOR",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n  \"RequestInfo\": {\r\n    \"apiId\": \"string\",\r\n    \"ver\": \"string\",\r\n    \"ts\": 0,\r\n    \"action\": \"string\",\r\n    \"did\": \"string\",\r\n    \"key\": \"string\",\r\n    \"msgId\": \"string\",\r\n    \"requesterId\": \"string\",\r\n    \"authToken\": \"{{access_token}}\"\r\n  },\r\n    \"scheduleOfRates\": [\r\n        {\r\n            \"id\": \"SOR_id\",\r\n            \"tenantId\": \"{{tenantId}}\",\r\n            \"code\": \"{{SOR_code}}\",\r\n            \"description\": \"Rates for CC-ash Road work\",\r\n            \"scheduleCategory\": {\r\n                \"code\": \"{{scheduleCategory}}\"\r\n            },\r\n            \"uom\": {\r\n                \"code\": \"{{uom}}\"\r\n            },\r\n            \"sorRates\": [\r\n                {\r\n                    \"id\": \"{{sorRatesId0}}\",\r\n                    \"tenantId\": \"{{tenantId}}\",\r\n                    \"scheduleOfRate\": \"{{SOR_id}}\",\r\n                    \"fromDate\": 1425200691000,\r\n                    \"toDate\": 1427879091000,\r\n                    \"rate\": 54.32,\r\n                    \"deleted\": false,\r\n                    \"isMigrated\": false,\r\n                    \"auditDetails\": null\r\n                },\r\n                {\r\n                    \"id\": \"{{sorRatesId1}}\",\r\n                    \"tenantId\": \"{{tenantId}}\",\r\n                    \"scheduleOfRate\": \"{{SOR_id}}\",\r\n                    \"fromDate\": 1430384691000,\r\n                    \"toDate\": 1430471091000,\r\n                    \"rate\": 87.65,\r\n                    \"deleted\": false,\r\n                    \"isMigrated\": false,\r\n                    \"auditDetails\": null\r\n                }\r\n            ],\r\n            \"marketRates\": [],\r\n            \"deleted\": false,\r\n            \"auditDetails\": null\r\n        }\r\n    ]\r\n  \r\n}"
						},
						"url": {
							"raw": "{{url}}/works-masters/v1/scheduleofrates/_update",
							"host": [
								"{{url}}"
							],
							"path": [
								"works-masters",
								"v1",
								"scheduleofrates",
								"_update"
							]
						},
						"description": "Update SOR"
					},
					"response": []
				},
				{
					"name": "SOR_Without_Mandatory",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"id": "83889621-5c97-4b07-9c8c-13993e124cb8",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						},
						{
							"listen": "test",
							"script": {
								"id": "cc645e07-a6aa-4c0d-9745-dc97f45a2b84",
								"type": "text/javascript",
								"exec": [
									"pm.test(\"Status code is 400\", function () {",
									"    pm.response.to.have.status(400);",
									"});",
									"",
									"var jsonData = JSON.parse(responseBody);",
									"",
									"tests[\"Tenant Id Mandatory check Matches\"] = jsonData.Errors[0].message;",
									"",
									"pm.test(\"Tenant Id Mandatory validation message matches\", function () {",
									"    pm.expect(\"may not be null\").to.include(jsonData.Errors[0].message);",
									"});"
								]
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n  \"RequestInfo\": {\r\n    \"apiId\": \"string\",\r\n    \"ver\": \"string\",\r\n    \"ts\": 0,\r\n    \"action\": \"string\",\r\n    \"did\": \"string\",\r\n    \"key\": \"string\",\r\n    \"msgId\": \"string\",\r\n    \"requesterId\": \"string\",\r\n    \"authToken\": \"{{access_token}}\"\r\n  },\r\n  \"scheduleOfRates\": [\r\n    {\r\n      \"tenantId\": null,\r\n      \"code\": null,\r\n      \"description\": null,\r\n      \"scheduleCategory\": {\r\n        \"id\": 2,\r\n        \"tenantId\": null,\r\n        \"name\": null,\r\n        \"code\": null\r\n      },\r\n      \"uom\": {\r\n        \"id\": 7,\r\n        \"tenantId\": null,\r\n        \"code\": null\r\n      },\r\n      \"sorRates\": [\r\n        {\r\n          \"tenantId\": null,\r\n          \"fromDate\": null,\r\n          \"toDate\": 1491034943000,\r\n          \"rate\": null,\r\n          \"deleted\": false\r\n        }\r\n    ],\r\n      \"marketRates\":[\r\n        {\r\n          \"tenantId\": null,\r\n          \"fromDate\": null,\r\n          \"toDate\": 1491034943000,\r\n          \"rate\": null,\r\n          \"deleted\": false\r\n        }\r\n     ],\r\n      \"deleted\": false\r\n    }\r\n  ]\r\n}"
						},
						"url": {
							"raw": "{{url}}/works-masters/v1/scheduleofrates/_create",
							"host": [
								"{{url}}"
							],
							"path": [
								"works-masters",
								"v1",
								"scheduleofrates",
								"_create"
							]
						},
						"description": "Create SOR as works master data without any mandatory"
					},
					"response": []
				},
				{
					"name": "M1",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"id": "3f6a19ae-9081-4fd2-a0a3-f5897c59275b",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						},
						{
							"listen": "test",
							"script": {
								"id": "9fc5a5c1-93be-4536-954a-df1ae7189f4c",
								"type": "text/javascript",
								"exec": [
									"pm.test(\"Status code is 400\", function () {",
									"    pm.response.to.have.status(400);",
									"});",
									"",
									"var jsonData = JSON.parse(responseBody);",
									"",
									"tests[\"SOR code Mandatory check Matches\"] = jsonData.Errors[0].message;",
									"tests[\"SOR description Mandatory check Matches\"] = jsonData.Errors[1].message;",
									"",
									"pm.test(\"SOR description Mandatory validation message matches\", function () {",
									"    pm.expect(\"may not be null\").to.include(jsonData.Errors[0].message);",
									"});",
									"pm.test(\"SOR description Mandatory validation message matches\", function () {",
									"    pm.expect(\"may not be null\").to.include(jsonData.Errors[1].message);",
									"});"
								]
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n  \"RequestInfo\": {\r\n    \"apiId\": \"string\",\r\n    \"ver\": \"string\",\r\n    \"ts\": 0,\r\n    \"action\": \"string\",\r\n    \"did\": \"string\",\r\n    \"key\": \"string\",\r\n    \"msgId\": \"string\",\r\n    \"requesterId\": \"string\",\r\n    \"authToken\": \"{{access_token}}\"\r\n  },\r\n  \"scheduleOfRates\": [\r\n    {\r\n      \"tenantId\": \"{{tenantId}}\",\r\n      \"code\": null,\r\n      \"description\": null,\r\n      \"scheduleCategory\": {\r\n        \"id\": 2,\r\n        \"tenantId\": \"{{tenantId}}\",\r\n        \"name\": \"Concrete roads - FAKE\",\r\n        \"code\": \"CCR - FAKE\"\r\n      },\r\n      \"uom\": {\r\n        \"id\": 7,\r\n        \"tenantId\": \"{{tenantId}}\",\r\n        \"code\": \"MTR\"\r\n      },\r\n      \"sorRates\": [\r\n        {\r\n          \"tenantId\": \"{{tenantId}}\",\r\n          \"fromDate\": 1459412543000,\r\n          \"toDate\": 1491034943000,\r\n          \"rate\": 124.63,\r\n          \"deleted\": false\r\n        }\r\n    ],\r\n      \"marketRates\":[\r\n        {\r\n          \"tenantId\": \"{{tenantId}}\",\r\n          \"fromDate\": 1459412543000,\r\n          \"toDate\": 1491034943000,\r\n          \"rate\": 124.63,\r\n          \"deleted\": false\r\n        }\r\n     ],\r\n      \"deleted\": false\r\n    }\r\n  ]\r\n}"
						},
						"url": {
							"raw": "{{url}}/works-masters/v1/scheduleofrates/_create",
							"host": [
								"{{url}}"
							],
							"path": [
								"works-masters",
								"v1",
								"scheduleofrates",
								"_create"
							]
						},
						"description": "Create SOR as works master data"
					},
					"response": []
				},
				{
					"name": "validate MDMS data",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"id": "188a1c12-4640-4f64-a425-5cf235be6d45",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						},
						{
							"listen": "test",
							"script": {
								"id": "2b3ceb61-a3f1-42b4-b655-81da0d6994ee",
								"type": "text/javascript",
								"exec": [
									"var createSorResponse = JSON.parse(responseBody);",
									"",
									"pm.environment.set(\"SOR_id\", createSorResponse.scheduleOfRates[0].id);",
									"pm.environment.set(\"SOR_code\", createSorResponse.scheduleOfRates[0].code);",
									"",
									"tests[\"Status is success\"] = createSorResponse.ResponseInfo.status.has(\"SUCCESSFUL\");",
									"",
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"pm.test(\"Successful POST request\", function () {",
									"    pm.expect(pm.response.code).to.be.oneOf([201,202]);",
									"});",
									"",
									"pm.environment.set(\"sorCreate\", JSON.stringify(createSorResponse));"
								]
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n  \"RequestInfo\": {\r\n    \"apiId\": \"works-masters\",\r\n    \"ver\": \"string\",\r\n    \"ts\": 0,\r\n    \"action\": \"create\",\r\n    \"did\": \"string\",\r\n    \"key\": \"string\",\r\n    \"msgId\": \"string\",\r\n    \"requesterId\": \"string\",\r\n    \"authToken\": \"{{access_token}}\"\r\n  },\r\n  \"scheduleOfRates\": [\r\n    {\r\n      \"tenantId\": null,\r\n      \"code\": \"{{SOR_code}}\",\r\n      \"description\": \"Rates for CC-ash Road work\",\r\n      \"scheduleCategory\": null,\r\n      \"uom\": null,\r\n      \"sorRates\": [\r\n        {\r\n          \"tenantId\": \"{{tenantId}}\",\r\n          \"fromDate\": 1427884148000,\r\n          \"toDate\": 1459420148000,\r\n          \"rate\": 88.88,\r\n          \"deleted\": false\r\n        }\r\n      ],\r\n      \"marketRates\": []\r\n    }\r\n  ]\r\n}"
						},
						"url": {
							"raw": "{{url}}/works-masters/v1/scheduleofrates/_create",
							"host": [
								"{{url}}"
							],
							"path": [
								"works-masters",
								"v1",
								"scheduleofrates",
								"_create"
							]
						},
						"description": "Create SOR as works master data with validate MDMS data"
					},
					"response": []
				}
			]
		},
		{
			"name": "Login",
			"event": [
				{
					"listen": "prerequest",
					"script": {
						"id": "5294b8c8-2320-476c-b079-28b94a34db2b",
						"type": "text/javascript",
						"exec": [
							"if(environment.url.has(\"http://egov-micro-dev.egovernments.org\") && environment.tenantId.has(\"default\")){",
							"    pm.environment.get(\"username\");",
							"    pm.environment.get(\"password\");",
							"}",
							"",
							"if(environment.url.has(\"http://egov-micro-qa.egovernments.org\") && environment.tenantId.has(\"default\")){",
							"    pm.environment.get(\"username\");",
							"    pm.environment.get(\"password\");",
							"}"
						]
					}
				},
				{
					"listen": "test",
					"script": {
						"id": "4d925a00-92c5-41e7-8e49-3fa2a75b2e64",
						"type": "text/javascript",
						"exec": [
							"var jsonData = JSON.parse(responseBody);",
							"var loginUserName = pm.environment.get(\"username\");",
							"",
							"pm.environment.set(\"access_token\", jsonData.access_token);",
							"",
							"pass = true;",
							"fail = false;",
							"",
							"if (responseCode.code === 201 || responseCode.code === 200) {",
							"    tests[\"Request Succesfully Sent\"] = pass;",
							"}",
							"",
							"tests[\"Status code is 200\"] = responseCode.code === 200;",
							"",
							"tests[\"Username is valid\"] = jsonData.UserRequest.userName.has(request.data[\"username\"]);",
							"",
							"pm.test(\"Login UserRequest Matches\", function () {",
							"    pm.expect(loginUserName).to.include(jsonData.UserRequest.userName);",
							"});",
							"",
							"var nextSwitch = pm.environment.get(\"callTo\");",
							"if(nextSwitch === \"Create AE\"){",
							" postman.setNextRequest(\"WorksMdmsData\");   ",
							"}",
							"",
							"if(nextSwitch === \"Update AE\"){",
							" postman.setNextRequest(\"Update AE\");   ",
							"}",
							"",
							"if(nextSwitch === \"Update AE (FS)\"){",
							" postman.setNextRequest(\"Update AE (FS)\");   ",
							"}",
							"",
							"if(nextSwitch === \"Update AE (AS)\"){",
							" postman.setNextRequest(\"Update AE (AS)\");   ",
							"}",
							"",
							"if(nextSwitch === \"Search Project Code\"){",
							" postman.setNextRequest(\"Search Project Code\");   ",
							"}",
							"",
							"if(nextSwitch === \"Search SOR\"){",
							" postman.setNextRequest(\"Search SOR\");   ",
							"}"
						]
					}
				}
			],
			"request": {
				"method": "POST",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/x-www-form-urlencoded"
					},
					{
						"key": "Authorization",
						"value": "Basic ZWdvdi11c2VyLWNsaWVudDplZ292LXVzZXItc2VjcmV0"
					}
				],
				"body": {
					"mode": "urlencoded",
					"urlencoded": [
						{
							"key": "username",
							"value": "{{username}}",
							"type": "text"
						},
						{
							"key": "password",
							"value": "{{password}}",
							"type": "text"
						},
						{
							"key": "grant_type",
							"value": "password",
							"type": "text"
						},
						{
							"key": "scope",
							"value": "read",
							"type": "text"
						},
						{
							"key": "tenantId",
							"value": "{{tenantId}}",
							"type": "text"
						}
					]
				},
				"url": {
					"raw": "{{url}}/user/oauth/token",
					"host": [
						"{{url}}"
					],
					"path": [
						"user",
						"oauth",
						"token"
					]
				},
				"description": ""
			},
			"response": []
		},
		{
			"name": "Logout",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "c429c435-9abe-4a93-9213-986e6415b914",
						"type": "text/javascript",
						"exec": [
							"tests[\"Status code is 200\"] = responseCode.code === 200;",
							"var isLogin = pm.environment.get(\"callTo\");",
							"// if(isLogin != \"Search AE (AS)\")",
							"postman.setNextRequest(\"Login\");"
						]
					}
				}
			],
			"request": {
				"method": "POST",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/json"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\n  \"RequestInfo\": {\n    \"apiId\": \"org.egov.pgr\",\n    \"ver\": \"1.0\",\n    \"ts\": \"13-04-2017 12:13:30\",\n    \"action\": \"POST\",\n    \"did\": \"4354648646\",\n    \"key\": \"xyz\",\n    \"msgId\": \"654654\",\n    \"requesterId\": \"61\",\n    \"authToken\": \"{{access_token}}\"\n  }\n}"
				},
				"url": {
					"raw": "{{url}}/user/_logout?access_token={{access_token}}",
					"host": [
						"{{url}}"
					],
					"path": [
						"user",
						"_logout"
					],
					"query": [
						{
							"key": "access_token",
							"value": "{{access_token}}",
							"equals": true
						}
					]
				},
				"description": ""
			},
			"response": []
		}
	]
}