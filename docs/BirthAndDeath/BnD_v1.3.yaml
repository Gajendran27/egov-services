swagger: '2.0'
# eGSP YAML Template Version: 1.0 
# This is a version number for the YAML template. This must not be changed.

info:
  version: 1.0.0
  ######################################################
  # All API's are POST. _create,_search,_update for post,get and put. RequestInfo will be part of body. For multiple records please pass multiple value with comman separated values*.
  # RequestInfo and ResponseInfo object should be referred from Common*.
  # Readonly means that even if these fields are passed in the request, it will be ignored in create/update and will not be added/updated in the entities. The readonly fields might be passed to the _search API's to make use of fields for the search Query API. While calling _search API's even mandatory fields might not be available, it is mandatory only in the _create API's*.
  # All errors will be returned with HTTP error code 400 with customized error code and messages. Consumer of the API need to handle 400 with customized error code and message.
  # Definition must start with Upper case followed by camel case.
  # Parameter name must start with small case followed by camel case.
  # Path must be in small case.
  ######################################################
  
  title: Birth and Death Management System 
  description: |
    Rest APIs for Birth and death Management system. The system handles birth and death registration, modification and  name inclusion of birth registration operations. 
  contact:
    name: eGovernments Foundation
    email: info@egovernments.org
schemes:
  - https
consumes:
  - application/json
produces:
  - application/json
basePath: '/bnd/v1'
x-api-id: 'org.egov.bnd.registration'
x-common-path: 
paths:
  
  /birthrecords/_create:
    post:
      summary: Registers one or multiple birth records. It works for both legacy and new registrations. In case of new registration, registration number is generated by the the system. Registration number is mandatory in case of legacy records.
      description: |
          To create a single or multiple birth registration records in the system. Please note that either whole batch of registration succeeds or fails; there is no partial success. To create a single birth registration, please pass an array with one Birth Registration object. 
        
            
      parameters:
        - name: BirthRegistrationRequest
          in: body
          description: Details of new Birth Registration(s) + RequestInfo meta data.
          required: true
          schema:
            $ref: '#/definitions/BirthRegistrationRequest'
      
      responses:
      ####################################################
      # All errors will be returned with HTTP error code 400 with customized error code and messages. Consumer of the API need to handle 400 with customized error code and message
      ###################################################
        200:
          description: Birth Registration(s) created successfully
          schema:
            $ref: '#/definitions/BirthRegistrationResponse'
        400:
          description: Birth Registration(s) creation failed
          schema:
            $ref: '#/definitions/ErrorRes'
      tags:
        -  Birth Registration
        
  /birthrecords/_update:
    post:
      summary: Update existing Birth registration record(s).
      description: |
               This api will update an existing birth record in the system. The api does not allow change to the birth registration number or registration date.
      parameters:
        - name: BirthRegistrationRequest
          in: body
          description: Details of Birth registration(s) + RequestInfo meta data.
          required: true
          schema:
            $ref: '#/definitions/BirthRegistrationRequest'
      
      responses:
      ####################################################
      # All errors will be returned with HTTP error code 400 with customized error code and messages. Consumer of the API need to handle 400 with customized error code and message
      ###################################################
        200:
          description: Birth Registration(s) updated successfully
          schema:
            $ref: '#/definitions/BirthRegistrationResponse'
        400:
          description: Birth Registration(s) updation failed
          schema:
            $ref: '#/definitions/ErrorRes'
      tags:
        - Birth Registration
 
  /birthrecords/_search:
    post:
      summary: Get the list of birth registration(s) based on the search criteria.
      description: |
          Search and get birth registration(s) based on defined search criteria.
           
          In case multiple parameters are passed, birth registration(s) will be searched as an AND combination of all the parameters.
          
          Maximum result size is restricted based on the maxlength of  birth registration as defined in  BirthRegistrationResponse model.
          
          Search results will be sorted by the sortProperty provided in the parameters.
      parameters:
        - $ref: "#/parameters/requestInfo"
        - $ref: "#/parameters/pageSize"
        - $ref: "#/parameters/pageNumber"
        - $ref: "#/parameters/sortProperty"
        - name: registrationUnits
          in: query
          type: array
          items:
            type: string
          format: multiValueList
          maxItems: 50
          required: false
          allowEmptyValue: true
          description: Comma separated list of the codes of registration in which birth might have been registered.
       
        - name: birthDate
          in: query
          type: integer
          format: int64
          x-displayformat: 'dd/MM/yyyy'
          required: false
          description: Birth Date in Epoch time
        - name: registrationDate
          in: query
          type: integer
          format: int64
          x-displayformat: 'dd/MM/yyyy'
          required: false
          description: Registration date in Epoch time
        - name: registrationDateFrom
          in: query
          type: integer
          format: int64
          x-displayformat: 'dd/MM/yyyy'
          required: false
          description: Registration from date in Epoch time  
        - name: registrationDateTo
          in: query
          type: integer
          format: int64
          x-displayformat: 'dd/MM/yyyy'
          required: false
          description: Registration to date  in Epoch time.  
        - name: registrationNumbers
          in: query
          type: array
          items:
            type: string
          maxItems: 50
          required: false
          allowEmptyValue: true
          description: Comma separated list of birth registration numbers
        - name: childName
          in: query
          type: string
          required: false
          allowEmptyValue: true
          description: Case insensitive exact or like string match. 
        - name: fatherName
          in: query
          type: string
          required: false
          allowEmptyValue: true
          description: Case insensitive exact or like string match.  
        - name: motherName
          in: query
          type: string
          required: false
          allowEmptyValue: true
          description: Case insensitive exact or like string match. 
        - name: gender
          type: string
          in: query
          description: Gender of the child
          enum:
            - MALE
            - FEMALE
            - TRANSGENDER
        - name: birthPlaceType
          in: query
          type: string
          enum:
           - HOSPITAL
           - HOUSE
           - OTHERS
           - NOTSTATED
          description: Place type of child birth
        - name: hospitalName
          in: query
          type: array
          items:
            type: string
          maxItems: 50
          required: false
          allowEmptyValue: true
          description: Comma separated list of hospital names
        - name: pincode
          in: query
          type: string
          required: false
          allowEmptyValue: true
      responses:
        200:
          description: Birth registration(s) Retrieved Successfully
          schema:
              $ref: '#/definitions/BirthRegistrationResp'
        '400':
          description: Invalid input.
          schema:
            $ref: '#/definitions/ErrorRes'
      tags:
       - Birth Registration
             
  /birthrecords/_nameinclusion:
    post:
      summary: Name inclusion 
      description: |
          The system can allow for a change or addition of child name within 1 year from the date of registration. If this process is not completed in one year, a court order is required to include the child name.
      parameters:
        - name: BirthRegistrationRequest
          in: body
          description: Details of name inclusion with Birth Registration + RequestInfo meta data.
          required: true
          schema:
            $ref: '#/definitions/NameInclusionRequest'
      
      responses:
      ####################################################
      # All errors will be returned with HTTP error code 400 with customized error code and messages. Consumer of the API need to handle 400 with customized error code and message
      ###################################################
        200:
          description: Name inclusion(s) created successfully
          schema:
            $ref: '#/definitions/NameInclusionResponse'
        400:
          description: Name inclusion(s) failed
          schema:
            $ref: '#/definitions/ErrorRes'
      tags:
        -  Birth Registration
        
  /deathrecords/_create:
    post:
      summary: Registers one or multiple death(s).
      description: |
            To register a new death  in the system. This API supports bulk creation with max limit as defined in the DirthRegistrationRequest object. Please note that either whole batch of registration succeeds or fails; there is no partial success. To register a single death, please pass an array with one death registration object.         
            The registration number can be generated by this api or it can be passed from existing entry(such as legacy system). 
           
          
      parameters:
        - name: DeathRegistrationRequest
          in: body
          description: Details of new Death Registration(s) + RequestInfo meta data.
          required: true
          schema:
            $ref: '#/definitions/DeathRegistrationRequest'
      
      responses:
      ####################################################
      # All errors will be returned with HTTP error code 400 with customized error code and messages. Consumer of the API need to handle 400 with customized error code and message
      ###################################################
        200:
          description: Death Registration(s) created successfully
          schema:
            $ref: '#/definitions/DeathRegistrationResponse'
        400:
          description: Death Registration(s) creation failed
          schema:
            $ref: '#/definitions/ErrorRes'
      tags:
        -  Death Registration
        
  /deathrecords/_update:
    post:
      summary: Update existing death registration(s).
      description:   
          This api will update an existing death record in the system. The api does not allow change to the death registration number or registration date.
      parameters:
        - name: DeathRegistrationRequest
          in: body
          description: Details of Death registration(s) + RequestInfo meta data.
          required: true
          schema:
            $ref: '#/definitions/DeathRegistrationRequest'
      
      responses:
      ####################################################
      # All errors will be returned with HTTP error code 400 with customized error code and messages. Consumer of the API need to handle 400 with customized error code and message
      ###################################################
        200:
          description: Death Registration(s) updated successfully
          schema:
            $ref: '#/definitions/DeathRegistrationResponse'
        400:
          description: Death Registration(s) updation failed
          schema:
            $ref: '#/definitions/ErrorRes'
      tags:
        - Death Registration 
        
  /deathrecords/_search:
    post:
      summary: Get the list of death registration(s) based on the search criteria.
      description: |
          Search and get  death registration(s) based on defined search criteria.
          
          In case multiple parameters are passed death registration(s) will be searched as an AND combination of all the parameters.
          
          Maximum result size is restricted based on the maxlength of  death Registration as defined in  DeathRegistrationResponse model.
          
          Search results will be sorted by the sortProperty provided in the parameters
      parameters:
        - $ref: "#/parameters/requestInfo"
        - $ref: "#/parameters/pageSize"
        - $ref: "#/parameters/pageNumber"
        - $ref: "#/parameters/sortProperty"
        - name: registrationUnits
          in: query
          type: array
          items:
            type: string
          format: multiValueList
          maxItems: 50
          required: false
          allowEmptyValue: true
          description: Comma separated list of the Registrtion units in which the death might have been registered.
       
        - name: deathDate
          in: query
          type: integer
          format: int64
          x-displayformat: 'dd/MM/yyyy'
          required: false
          description: Death Date in epoch time
        - name: registrationDate
          in: query
          type: integer
          format: int64
          x-displayformat: 'dd/MM/yyyy'
          required: false
          description: Death registration date in epoch time
        - name: registrationNumbers
          in: query
          type: array
          items:
            type: string
          maxItems: 50
          required: false
          allowEmptyValue: true
          description: Comma separated list of death registration numbers
  
        - name: deathPersonName
          in: query
          type: string
          required: false
          allowEmptyValue: true
          description: Name of the deceased. Case insensitive exact or like string match.  
        - name: fatherName
          in: query
          type: string
          required: false
          allowEmptyValue: true
          description: Name of the Father of the deceased. Case insensitive exact or like string match.  
        - name: motherName
          in: query
          type: string
          required: false
          allowEmptyValue: true
          description: Name of the mother. Case insensitive exact or like string match. 
        - name: gender
          type: string
          in: query
          description: Gender of the deceased
          enum:
            - MALE
            - FEMALE
            - TRANSGENDER
        - name: deathPlaceType
          in: query
          type: string
          enum:
           - HOSPITAL
           - HOUSE
           - OTHERS
           - NOTSTATED
          description: Type of place of death of the deceased
        - name: hospitalName
          in: query
          type: array
          items:
            type: string
          maxItems: 50
          required: false
          allowEmptyValue: true
          description: Comma separated list of hospital names
        - name: pincode
          in: query
          type: string
          required: false
          allowEmptyValue: true
      responses:
        200:
          description: Death registration(s) records retrieved successfully
          schema:
              $ref: '#/definitions/DeathRegistrationResp'
        '400':
          description: Invalid input.
          schema:
            $ref: '#/definitions/ErrorRes'
      tags:
        - Death Registration 
            
definitions:
########################################################
#RequestInfo and ResponseInfo object should be reffered from Common.
#Definition must start with Upper case followed by camel case.
########################################################
  Person:
    type: object
    description: |
      Representation of a person. The same object will be used to identify different entities in the system like child, mother,father,relative,informant,death person 
    properties:
      id:
        type: integer
        format: int64
        description: The unique id for person.
        readOnly: true
      cityOrVillageCode:
        type: string
        description: Unique Identifier of the city 
      salutation:
        type: string
        description: The salutation of user name. Example- Mr, Miss, Mrs
        maxLength: 5
      name:
        type: string
        pattern: "[0-9a-zA-Z_@./#&+-/!(){}\",^$%*|=;:<>?`~ ]+"      
        minLength: 3
        maxLength: 99
        description: The given name of the person submitting the request.
      gender:
        type: string
        description: Gender of the person.
        items:
          type: string
          enum:
           - MALE
           - FEMALE
           - TRANSGENDER
      mobileNumber:
        type: string
        description: Mobile number of person
        maxLength: 10
      email:
        type: string
        description: Email address of the person
        maxLength: 254
      contactNumber:
        type: string
        description: Contact number of the person
        maxLength: 18
      aadhaarNumber:
        type: string
        description: Aadhaar number of the person
        pattern: "[0-9]"
        maxLength: 12
      identificationMark:
        type: string
        description: Any identification mark of the person.
        maxLength: 300 
    required:
     - name
     - gender
     - cityOrVillageCode       

  NameInclusion:
    type: object
    description: |
      Name inclusion 
    properties:
      cityOrVillageCode:
        type: string
        description: Unique Identifier of the city or village used to save address.
      registrationNumber:
        type: string
        description: Birth registration number.
        maxLength: 20
      registrationUnit:
        type: string
        description: registration unit code.
      childName:
        type: string
        description: Child new/correction name.
      courtOrder:
        type: string
        description: registration unit code.  
    required:
     - registrationNumber
     - cityOrVillageCode   
     - childName
        
  BirthRegistration:
    type: object
    description: |
      Registration of birth records. 
    properties:
      cityOrVillageCode:
        type: string
        description: Unique Identifier of the city or village used to save address.
      registrationNumber:
        type: string
        description: Unique number generated for birth registration. This will be continuous number and reset for every calendar year. The format will be decided by concerned state. For eg. REG1-2017-B-1222. Here REG1 is the code of the registration unit, 2017 is year, B for birth and 1222 is continuous birth registration number.
        pattern: '[a-zA-Z0-9-/]+'
        maxLength: 20
      registrationDate:
        type: integer
        format: int64
        x-displayformat: 'dd/MM/yyyy'
        description: |
            Registration date of birth record in epoch time
      birthDate:
        type: integer
        format: int64
        x-displayformat: 'dd/MM/yyyy'
        description: |
            Birth date of birth record in epoch time
            
      hospital:
        type: string
        description: Hospital code within registration unit. If birth place is hospital, then this field is mandatory. 
      attentionAtDelivery:
        type: string
        description: Deliverty method master code.
      person:
        $ref: "#/definitions/Person"
      father:
        $ref: "#/definitions/Person"
      mother:
        $ref: "#/definitions/Person"
      informant:
        $ref: "#/definitions/Person"
      methodOfDelivery:
        type: string
        description: Method of delivery  code
      registrationUnit:
        type: string
        description: Codeof the registration unit of the place of birth
      registrar:
        type: string
        pattern: "[0-9a-zA-Z_@./#&+-/!(){}\",^$%*|=;:<>?`~ ]+"
        description: Registrar who registered birth registration
      remarks:
        type: string
        pattern: "[0-9a-zA-Z_@./#&+-/!(){}\",^$%*|=;:<>?`~ ]+"
        maxLength: 512
        description: Remarks in birth registration. Court order and other information will be saved in this field.
      fileNumber:
        type: string
        pattern: "[0-9a-zA-Z_@./#&+-/!(){}\",^$%*|=;:<>?`~ ]+"
        description: Existing record file number (if any) 
        maxLength: 10
      birthWeight:
          type: number
          format: float
          description: Birth weight of child
      pregnencyDuration:
          type: integer
          format: int64
          description: Pregnancy duration. The range should be in weeks.
      birthAddress:
        $ref: "#/definitions/Address"
      birthPlaceType:
        type: string
        description: Place of birth
        items:
          type: string
          enum:
           - HOSPITAL
           - HOUSE
           - OTHERS
           - NOTSTATED
      motherOccupation: 
        type: string
        description: Reference to occupation. Mother occupation detail
      fatherOccupation: 
        type: string
        description: Reference to occupation. Father occupation detail  
      motherEducation:
        type: string
        description: Education code of mother  
      fatherEducation:
        type: string
        description: Education of father code
      motherAgeAtMarriage:
        type: integer
        format: int64
        description: Age of mother at the time of marriage. Maximum value and minimum value check required.
      numberOfChildren:
        type: integer
        format: int64
        description: Number of children at the time of delivery
      motherAgeAtChildBirth:
        type: integer
        format: int64
        description: Age of mother at the time of child birth. Maximum value and minimum value check required.
      religion:
        type: string
        description: Religion code reference. Religion of family.
      fatherNationality: 
        type: string
        description: Reference to Nationality code. Nationality of father
      motherNationality: 
        type: string
        description: Reference to Nationality code. Nationality of mother  
      motherUsualResidenceType:
        type: string
        description: Mother usual residence place. Select either town or village.
        items:
          type: string
          enum:
           - Town
           - Village
      motherUsualAddress:
        $ref: "#/definitions/Address"
      status:
        type: string
        description: Status of birth registation
        readOnly: true
        items:
          type: string
          enum:
           - CREATED
           - APPROVED
           - NOT APPROVED
           - CANCELLED
           - INVALID  
      documents:
          type: array
          description: >-
             Birth registration related documents
          items:
            $ref: '#/definitions/BndDocument'   
    example:
      cityOrVillageCode:01
      registrationNumber:2017-B-122
      registrationDate:10/10/2018
      birthDate:10/10/2018
      birthWeight:3.25
      pregnencyDuration:32
      motherAgeAtMarriage:28
      numberOfChildren:1
      motherAgeAtChildBirth:30
      motherUsualResidenceType:Town
      birthPlaceType:HOSPITAL
      status:CREATED
    required:      
     - cityOrVillageCode
     - registrationUnit
     - person
     - father
     - mother
     - registrar
     - birthAddress
     - birthDate
     - registrationDate
     - birthPlaceType
     
  BirthRegistrationResp:
    type: object
    description: |
      Registration of birth records. 
    properties:
      cityOrVillageCode:
        type: string
        description: Unique Identifier of the city or village used to save address.
      registrationNumber:
        type: string
        description: Unique number generated for birth registration. This will be continuous number and reset for every calendar year. The format will be decided by concerned state. For eg. REG1-2017-B-1222. Here REG1 is the code of the registration unit, 2017 is year, B for birth and 1222 is continuous birth registration number.
        pattern: '[a-zA-Z0-9-/]+'
        maxLength: 20
      registrationDate:
        type: integer
        format: int64
        x-displayformat: 'dd/MM/yyyy'
        description: |
            Registration date of birth record in epoch time.
      birthDate:
        type: integer
        format: int64
        x-displayformat: 'dd/MM/yyyy'
        description: |
            Birth date of birth record in epoch time
            
      hospital:
        $ref: "#/definitions/Hospital"
      attentionAtDelivery:
        $ref: "#/definitions/AttentionAtDelivery"
      person:
        $ref: "#/definitions/Person"
      father:
        $ref: "#/definitions/Person"
      mother:
        $ref: "#/definitions/Person"
      informant:
        $ref: "#/definitions/Person"
      methodOfDelivery:
        $ref: "#/definitions/MethodOfDelivery"
      registrationUnit:
        $ref: "#/definitions/RegistrationUnit"
      registrar:
        type: string
        pattern: "[0-9a-zA-Z_@./#&+-/!(){}\",^$%*|=;:<>?`~ ]+"
        description: Registrar who registered birth registration
      remarks:
        type: string
        pattern: "[0-9a-zA-Z_@./#&+-/!(){}\",^$%*|=;:<>?`~ ]+"
        maxLength: 512
        description: Remarks in birth registration. Court order and other information will be saved in this field.
      fileNumber:
        type: string
        pattern: "[0-9a-zA-Z_@./#&+-/!(){}\",^$%*|=;:<>?`~ ]+"
        description: Existing record file number (if any) 
        maxLength: 10
      birthWeight:
          type: number
          format: float
          description: Birth weight of child in grams.
      pregnencyDuration:
          type: integer
          format: int64
          description: Pregnancy duration. The range should be in months.
      birthAddress:
        $ref: "#/definitions/Address"
      birthPlaceType:
        type: string
        description: Place of birth
        items:
          type: string
          enum:
           - HOSPITAL
           - HOUSE
           - OTHERS
           - NOTSTATED
      motherOccupation: 
        $ref: "#/definitions/Occupation"
      fatherOccupation: 
        $ref: "#/definitions/Occupation"
      religion:
        $ref: "#/definitions/Religion"
      motherEducation:
        $ref: "#/definitions/Education"
      fatherEducation:
        $ref: "#/definitions/Education"
      motherAgeAtMarriage:
        type: integer
        format: int64
        description: Age of mother at the time of marriage.Maximum value and minimum value check required.
      numberOfChildren:
        type: integer
        format: int64
        description: Number of children at the time of delivery
      motherAgeAtChildBirth:
        type: integer
        format: int64
        description: Age of mother at the time of child birth.Maximum value and minimum value check required.
      fatherNationality: 
        $ref: "#/definitions/Nationality"
      motherNationality: 
        $ref: "#/definitions/Nationality"
      motherUsualResidenceType:
        type: string
        description: Mother usual residence place. Select either town or village.
        items:
          type: string
          enum:
           - Town
           - Village
      motherUsualAddress:
        $ref: "#/definitions/Address"
      status:
        type: string
        description: Status of birth registation
        readOnly: true
        items:
          type: string
          enum:
           - CREATED
           - APPROVED
           - NOT APPROVED
           - CANCELLED
           - INVALID  
      documents:
          type: array
          description: >-
             Birth registration related documents
          items:
            $ref: '#/definitions/BndDocument'   

  DeathRegistration:
    type: object
    description: |
      Registration of Death records. 
    properties:
      cityOrVillageCode:
        type: string
        description: Unique Identifier of the city used to save address.
      registrationNumber:
        type: string
        description: Unique number generated for death registration. This will be continuous number and reset for every calendar year. The format will be decided by concerned state.For eg. REG1-2017-D-14 . Here REG1 is the code of the registration unit,  2017 is year, D for Death and 14 is continuous death registration number.
        maxLength: 20
      registrationDate:
        type: integer
        format: int64
        x-displayformat: 'dd/MM/yyyy'
        description: |
            Registration date of death record in epoch time.
      deathDate:
        type: integer
        format: int64
        x-displayformat: 'dd/MM/yyyy'
        description: |
            Date of death of the deceased in epoch time
      hospital:
        type: string
        description: Reference hospital code. If death place is hospital, then this field is mandatory. 
      deathMedicallyCertified:
        type: boolean
        description: Boolean value. Is death medically certified by doctor.
        default: false 
      deathAtPregnancy:
        type: boolean
        description: Boolean value. Is death happened during pregnancy.
        default: false 
      ageOfDeathPerson:
          type: integer
          format: int64
          description: Age of deceased.  
      ageType:
        type: string
        description: Age Type
        items:
          type: string
          enum:
           - Year
           - Week
           - Month
           - Day
           - Hour
           - Not STATED
      attentionAtDeath:
        type: string
        description: Attention code reference.
      deathPerson:
        $ref: "#/definitions/Person"
      relative:
        $ref: "#/definitions/Person"
      relationShipType:  
        $ref: "#/definitions/RelationShipType"
      informant:
        $ref: "#/definitions/Person"
      registrationUnit:
        type: string
        description: Code of the Registration unit code.
      registrar:
        type: string
        maxLength: 100
        pattern: "[0-9a-zA-Z_@./#&+-/!(){}\",^$%*|=;:<>?`~ ]+"
        description: Registrar who registered death registration
      remarks:
        type: string
        pattern: "[0-9a-zA-Z_@./#&+-/!(){}\",^$%*|=;:<>?`~ ]+"
        maxLength: 512
        description: Remarks in death registration. Court order and other informations will be saved in this field.
      fileNumber:
        type: string
        description: Existing record file number (if any) 
        maxLength: 10
      deceasedAddress:
        $ref: "#/definitions/Address"
      deathAddress:
        $ref: "#/definitions/Address"
      deathPlaceType:
        type: string
        description: Place of death
        items:
          type: string
          enum:
           - HOSPITAL
           - HOUSE
           - OTHERS
           - NOTSTATED
      icdClasification:
        type: string
        description: ICD classification reference to define cause of death.
      occupation: 
        type: string
        description: Reference to occupation master code. Occupation code of the deceased.
      nationality: 
        type: string
        description: Reference to Nationality master.  Nationality code of the deceased.
      religion:
        type: string
        description: Religion code.
      maritalStatus:
          type: string
          enum:
            - Married
            - Unmarried
            - Divorced
            - Widow
            - Widower
            - Not Stated
          description: |
             Marital status of death person.
      status:
        type: string
        readOnly: true
        description: Status of birth registation
        items:
          type: string
          enum:
           - CREATED
           - LOCKED
           - APPROVED
           - NOT APPROVED
           - CANCELLED
           - INVALID  
      addictions:
          type: array
          description: >-
             Death person addiction details.
          items:
            $ref: '#/definitions/DeathPersonAddiction'  
          readOnly: true
      documents:
          type: array
          description: >-
             Death registration related documents
          items:
            $ref: '#/definitions/BndDocument' 
            
    required:      
     - cityOrVillageCode
     - registrationUnit
     - deathPerson
     - ageOfDeathPerson
     - ageType
     - registrar
     - deathAddress
     - deathPlaceType
     - deathDate
     - registrationDate
     
  DeathRegistrationResp:
    type: object
    description: |
      Registration of Death records. 
    properties:
      cityOrVillageCode:
        type: string
        description: Unique Identifier of the city used to save address.
      registrationNumber:
        type: string
        description: Unique number generated for death registration. This will be continuous number and reset for every calendar year. The format will be decided by concerned state. For eg. REG1-2017-D-14. Here REG1 is the code of the registration unit,  2017 is year, D for Death and 14 is continuous death registration number.
        maxLength: 20
      registrationDate:
        type: integer
        format: int64
        x-displayformat: 'dd/MM/yyyy'
        description: |
            Registration date of death record in epoch time
      deathDate:
        type: integer
        format: int64
        x-displayformat: 'dd/MM/yyyy'
        description: |
            Death date of death record in epoch time.
      hospital:
        $ref: "#/definitions/Hospital"
      deathMedicallyCertified:
        type: boolean
        description: Boolean value. Is death medically certified by doctor.
        default: false 
      deathAtPregnancy:
        type: boolean
        description: Boolean value. Is death happened during pregnancy.
        default: false 
      ageOfDeathPerson:
          type: integer
          format: int64
          description: Age of deceased.  
      ageType:
        type: string
        description: Age Type
        items:
          type: string
          enum:
           - Year
           - Week
           - Month
           - Day
           - Hour
           - Not STATED
      attentionAtDeath:
        $ref: "#/definitions/AttentionAtDeath"
      deathPerson:
        $ref: "#/definitions/Person"
      relative:
        $ref: "#/definitions/Person"
      relationShipType:  
        $ref: "#/definitions/RelationShipType"
      informant:
        $ref: "#/definitions/Person"
      registrationUnit:
        $ref: "#/definitions/RegistrationUnit"
      registrar:
        type: string
        maxLength: 100
        pattern: "[0-9a-zA-Z_@./#&+-/!(){}\",^$%*|=;:<>?`~ ]+"
        description: Registrar who registered death registration
      remarks:
        type: string
        pattern: "[0-9a-zA-Z_@./#&+-/!(){}\",^$%*|=;:<>?`~ ]+"
        maxLength: 512
        description: Remarks in death registration. Court order and other informations will be saved in this field.
      fileNumber:
        type: string
        description: Existing record file number (if any) 
        maxLength: 10
      deceasedAddress:
        $ref: "#/definitions/Address"
      deathAddress:
        $ref: "#/definitions/Address"
      deathPlaceType:
        type: string
        description: Place of death
        items:
          type: string
          enum:
           - HOSPITAL
           - HOUSE
           - OTHERS
           - NOTSTATED
      icdClasification:
        $ref: "#/definitions/ICDMajorGroup"
      occupation: 
        $ref: "#/definitions/Occupation"
      nationality: 
        $ref: "#/definitions/Nationality"
      religion:
        $ref: "#/definitions/Religion"
      maritalStatus:
          type: string
          enum:
            - Married
            - Unmarried
            - Divorced
            - Widow
            - Widower
            - Not Stated
          description: |
             Marital status of death person.
      status:
        type: string
        readOnly: true
        description: Status of birth registration
        items:
          type: string
          enum:
           - CREATED
           - LOCKED
           - APPROVED
           - NOT APPROVED
           - CANCELLED
           - INVALID  
      addictions:
          type: array
          description: >-
             Death person addiction details.
          items:
            $ref: '#/definitions/DeathPersonAddiction'  
          readOnly: true
      documents:
          type: array
          description: >-
             Death registration related documents
          items:
            $ref: '#/definitions/BndDocument' 
            
    required:      
     - cityOrVillageCode
     - registrationUnit
     - deathPerson
     - ageOfDeathPerson
     - ageType
     - registrar
     - deathAddress
     - deathPlaceType
     - deathDate
     - registrationDate
            
  DeathPersonAddiction:
    type: object
    description: |
      Statistical information about the habits of the dead person habits will be captured.
    properties:
      addictionInYears:
          type: number
          format: float
          description: Number of years addicted
      addiction:
        $ref: '#/definitions/Addiction'
      deathRegistration:
        $ref: '#/definitions/DeathRegistration'
    example:
      addictionInYears:1
    required:      
     - addictionInYears
     - addiction
     - deathRegistration

  Address:
    type: object
    description: |
      Representation of an address. Applicant address,parent address, informant address, death address, deceased permanent or temporary address is saving in this object.
    properties:
      cityOrVillageCode:
        type: string
        description: Unique Identifier of the city/village used to save address.
      latitude:
        type: number
        format: double
        description: latitude of the address
      longitude:
        type: number
        format: double
        description: longitude of the address
      careof:
        description: Field to capture Care of person name
        type: string
        maxLength: 60
      building:
        description: House, Door, Building number
        type: string
        maxLength: 60
      street:
        description: street number and name
        type: string
        maxLength: 60
      locality:
        description:  Locality, Area, Zone, Ward 
        type: string
        maxLength: 60  
      landmark:
        description: additional landmark to help locate the address
        type: string
        maxLength: 60
      city:
        description: City of the address. 
        type: string
      village:
        description: Village name of the address. 
        type: string
      district:
        description: District of the address.
        type: string
      state:
        description: state name
        type: string
      pincode:
        type: string
        description: PIN code of the address. Indian pincodes will usually be all numbers.
      addressType:
          type: string
          enum:
            - PERMANENTADDRESS
            - EVENTADDRESS
            - GENERAL
            - PRESENTADDRESS
            - USUALADDRESS
            - CORRESPONDINGADDRESS
          description: |
              Address types. Used to define different type of address. In death case, death person permanent address, present address will be collected. In birth case, mother usual resideing address, present address and permanent address will be collected. 
    required:
     - city
     - addressType
     - cityOrVillageCode
 
  Education:
    type: object
    description: |
      Representation of different Education. 
    properties:
      code:
        type: string
        description: Unique Code to identify education.
      name:
        type: string
        description: Education name.
      nameLocale:
        type: string
        description:  Education name in local Langauge. 
      active:
        type: boolean
        description: Boolean value. Default value true
        default: true  
    example:
      code:01
      name:Higher education
      active:true
    required:
     - code
     - name
  Occupation:
    type: object
    description: |
      Representation of different Occupation.
    properties:
      code:
        type: string
        description: Unique Code to identify occupation.
      name:
        type: string
        description: occupation name.
      nameLocale:
        type: string
        description:  occupation name in local Langauge. 
      active:
        type: boolean
        description: Boolean value. Default value true
        default: true  
    example:
      code:01
      name:Government
      active:true
    required:
     - code
     - name
  RelationShipType:
    type: object
    description: |
      Representation of different RelationShipType. Define  relations like father, mother, sister, brother etc.
    properties:
      code:
        type: string
        description: Unique Code to identify RelationShipType.
      name:
        type: string
        description: RelationShipType name.
      nameLocale:
        type: string
        description:  RelationShipType name in local Language. 
      active:
        type: boolean
        description: Boolean value. Default value true
        default: true  
    example:
      code:01
      name:Father
      active:true
    required:
     - code
     - name
  
  Nationality:
    type: object
    description: |
      Nationality of deceased person.Eg Indian,Srilankan,American
    properties:
      code:
        type: string
        description: Unique Code to identify  Nationality 
      name:
        type: string
        description:  Nationality name.
      nameLocale:
        type: string
        description:  Nationality name in local Language. 
      active:
        type: boolean
        description: Boolean value. Default value true
        default: true  
    example:
      code:01
      name:Indian
      active:true
    required:
     - code
     - name
  MethodOfDelivery:
    type: object
    description: |
      Different  Method of Delivery. Normal,Caesarean,Forceps/Vacuum,Not Stated
    properties:
      code:
        type: string
        description: Unique Code to identify  Method of Delivery.
      name:
        type: string
        description:  Method of Delivery name.
      nameLocale:
        type: string
        description:   Method of Delivery name in local Language. 
      active:
        type: boolean
        description: Boolean value. Default value true
        default: true  
    example:
      code:01
      name:Normal
      active:true
    required:
     - code
     - name
     
  AttentionAtDelivery:
    type: object
    description: |
      Different attention types at delivery time. Institutional - Government,Institutional - Private or Non-Government,Doctor, Nurse or Trained Midwife,Traditional Birth Attendant,Relatives or Others,Not Stated. 
    properties:
      code:
        type: string
        description: Unique Code to identify AttentionType.
      name:
        type: string
        description: Type of attention.
      nameLocale:
        type: string
        description:  Type of attention in local language
      active:
        type: boolean
        description: Boolean value. Default value true
        default: true  
    example:
      code:01
      name:Institutional - Government
      active:true
    required:
     - code
     - name
  AttentionAtDeath:
    type: object
    description: |
      Different attention types at death time. Institutional,Medical Attention Other than Institution,No Medical Attention,Not Stated
    properties:
      code:
        type: string
        description: Unique Code to identify AttentionType at death time.
      name:
        type: string
        description: Attention Type name.
      nameLocale:
        type: string
        description:  Attention Type name in local Language. 
      active:
        type: boolean
        description: Boolean value. Default value true
        default: true  
    example:
      code:01
      name:Institutional
      active:true
    required:
     - code
     - name
  
  Hospital:
    type: object
    description: |
      Hospital names list. From these hospitals birth/death and still birth information collected in concerned city.
    properties:
      cityOrVillageCode:
        type: string
        description: Unique Identifier of the city
      code:
        type: string
        description: Unique Code to identify Hospital .Either system generated id or code.
      name:
        type: string
        description: Hospital name.
      nameLocale:
        type: string
        description:  Hospital name in local Language. 
      hospitalType:
          type: string
          enum:
            - PRIVATE HOSPITAL
            - GOVERNMENTS HOSPITAL
            - NURSING HOME
            - OTHERS
            - NOT STATED
          description: |
              Type of hospital 
      active:
        type: boolean
        description: Boolean value. Default value true
        default: true  
      registrationUnit:
        type: string
        description: Each hospital mapped to registration unit within city.
    example:
      code:02
      name:Manipal Hospital
      active:true
    required:
     - code
     - name
     - hospitalType
     - registrationUnit
     - cityOrVillageCode 
     
  ICDMajorGroup:
    type: object
    description: |
     ICD Classified diseases names are grouped under major and sub groups. These disease names will be selected with death registration.
    properties:
      code:
        type: string
        description: Unique Code to identify ICDMajorGroup.
      name:
        type: string
        description: ICD Major Group name.
      nameLocale:
        type: string
        description:  ICD Major Group name in local Language. 
      active:
        type: boolean
        description: Boolean value. Default value true
        default: true  
    required:
     - code
     - name
  
  RegistrationUnit:
    type: object
    description: |
      There will be single or multiple registration units to register/issue birth and death registration/certificates. 
    properties:
      cityOrVillageCode:
        type: string
        description: Unique Identifier of the city or village
      code:
        type: string
        description: Unique Code to identify registration unit.
      name:
        type: string
        description: Registration unit name.
      address:
        type: string
        description: Registration unit address.
      nameLocale:
        type: string
        description:  Registration unit name in local Language. 
      active:
        type: boolean
        description: Boolean value. Default value true
        default: true  
      mainRegistrationUnit:
        type: boolean
        description: Boolean value. Default value false. Each city has atleast one main registration unit. All documents will move from zonal units to main units after one year of registration.
        default: false
    example:
      code:01
      name:Main office
      active:true
    required:
     - code
     - name
     - cityOrVillageCode 
     
  Religion:
    type: object
    description: |
      Representation of different religion. Eg: Hindu,muslim, sikh, parsi etc
    properties:
      code:
        type: string
        description: Unique Code to identify religion.Either system generated id or code.
      name:
        type: string
        description: Religion name.
      nameLocale:
        type: string
        description:  Religion name in local Language. 
      active:
        type: boolean
        description: Boolean value. Default value true
        default: true  
    example:
      code:01
      name:Hindu
      active:true
    required:
     - code
     - name
  
  BndDocument:
    type: object
    description: |
      List of documents required for registration. 
    properties:
      id:
        type: integer
        format: int64
        description: System generated id for the Birth and death registration documents.
        readOnly: true
      registrationType:
          type: string
          enum:
            - BIRTH REGISTRATION
            - DEATH REGISTRATION
            - STILLBIRTH
            - NAMEINCLUSION
            - ADOPTION
            - BIRTH MODIFICATION
            - DEATH MODIFICATION
          description: |
              Type of registrations 
      description:
        type: string
        description: Document name.
      descriptionLocale:
        type: string
        description: Document name in local Language.
      mandatory:
        type: boolean
        description: mandatory document or not
        default: false
        
    required:
     - registrationType
     - description
  Addiction:
    type: object
    description: |
      Representation of different addiction types. In death case, data will be collected for each addiction types. This will be used in reports to decide addiction details of death persons.
    properties:
      code:
        type: integer
        format: int64
        description: System generated code for the addiction
        readOnly: true
      addictionType:
          type: string
          enum:
            - SMOKE
            - TOBACCO
            - ALCOHOL
            - ARECANUT
          description: |
              Addiction types 
      description:
        type: string
        description: Addiction description in detail.
      descriptionLocale:
        type: string
        description: Addiction description in detail in local Language.  
    required:
     - addictionType
     - description
     
  BirthRegistrationRequest:
      type: object
      description: Contract class to send request. Array of Birth registration items are used in case of search results, also multiple  Birth registration item is used for create and update.
      properties:
        RequestInfo:
          $ref: '#/definitions/RequestInfo'
        birthRegistrations:
          type: array
          minimum: 1
          maximum: 100
          items:
            $ref: '#/definitions/BirthRegistration'
  NameInclusionRequest:
      type: object
      description: Contract class to send request. Array of Name inclusion requests.
      properties:
        RequestInfo:
          $ref: '#/definitions/RequestInfo'
        nameInclusions:
          type: array
          minimum: 1
          maximum: 100
          items:
            $ref: '#/definitions/NameInclusion'   
  NameInclusionResponse:
      type: object
      description: Contract class to send request. Array of Name inclusion requests.
      properties:
        RequestInfo:
          $ref: '#/definitions/RequestInfo'
        nameInclusions:
          type: array
          minimum: 1
          maximum: 100
          items:
            $ref: '#/definitions/NameInclusion'             
  BirthRegistrationResponse:
      type: object
      description: Contract class to send response. Array of Birth registration items are used in case of search results, also multiple  Birth registration item is used for create and update.
      properties:
        RequestInfo:
          $ref: '#/definitions/RequestInfo'
        birthRegistrations:
          type: array
          minimum: 1
          maximum: 100
          items:
            $ref: '#/definitions/BirthRegistrationResp'
     
  DeathRegistrationRequest:
      type: object
      description: Contract class to send request. Array of Death registration items are used in case of search results, also multiple  Death registration item is used for create and update.
      properties:
        RequestInfo:
          $ref: '#/definitions/RequestInfo'
        deathRegistrations:
          type: array
          minimum: 1
          maximum: 100
          items:
            $ref: '#/definitions/DeathRegistration'
      
  DeathRegistrationResponse:
      type: object
      description: Contract class to send response. Array of Death registration items are used in case of search results, also multiple  Death registration item is used for create and update.
      properties:
        RequestInfo:
          $ref: '#/definitions/RequestInfo'
        deathRegistrations:
          type: array
          minimum: 1
          maximum: 100
          items:
            $ref: '#/definitions/DeathRegistrationResp'
      
  RequestInfo:
    type: object
    description: RequestInfo should be used to carry meta information about the requests to the server as described in the fields below. Some of this information will be returned back from the server as part of the ResponseInfo in the response body to ensure correlation.
    properties:
      ts:
        type: integer
        format: int64
        description: time in epoch
      ver:
        type: string
        description: API version - for HTTP based request this will be same as used in path
        maxLength: 32
      msgId:
        type: string
        description: Unique request message id from the caller
        maxLength: 256
      requesterId:
        type: string
        description: UserId of the user calling
        maxLength: 256  
      apiId:
        type: string
        description: unique API ID
        maxLength: 128
      authToken:
        type: string
        description: //session/jwt/saml token/oauth token - the usual value that would go into HTTP bearer token
    required:
      - authToken
      - ts
      - apiId
      - ver
      - msgId
      
  Error:
    type: object
    description: Error object will be returned as a part of response body in conjunction with ResponseInfo as part of ErrorResponse whenever the request processing status in the ResponseInfo is FAILED. HTTP return in this scenario will usually be HTTP 400. 
    properties:
      code:
        type: string
        description: Error Code will be module specific error label/code to identify the error. All modules should also publish the Error codes with their specific localized values in localization service to ensure clients can print local specific error messages. Example for error code would be User.NotFound to indicate User Not Found by User/Authentication service. All services must declare their possible Error Codes with brief description in the error response section of their API path.
      message:
        type: string
        description: English local message of the error code. Clients should make a separate call to get the other local description if configured with the service. Clients may choose to cache these local specific messages to enhance performance with a reasonable TTL (May be defined by the localization service based on city + module combination).
      description:
        type: string
        description: Optional long description of the error to help clients take remedial action. This will not be available as part of localization service.
      params:
        type: array
        description: Some error messages may carry replaceable fields (say $1, $2) to provide more context to the message. E.g. Format related errors may want to indicate the actual field for which the format is invalid. Client's should use the values in the param array to replace those fields. 
        items: 
          type: string
    required:
      - code
      - message
      
  ErrorRes:
    type: object
    description: All APIs will return ErrorRes in case of failure. Error object as actual representation of error. In case of bulk apis, some apis may chose to return the array of Error objects to indicate individual failure.
    properties:
      Errors:
        description: Error response array corresponding to Request Object array. In case of single object submission or _search related paths this may be an array of one error element
        type: array
        minLength: 1
        items:
          $ref: '#/definitions/Error'

parameters:
##########################################################
#Parameter name must start with small case followed by camel case.
##########################################################
  requestInfo:
    name: requestInfo
    description: Parameter to carry Request metadata in the request body
    in: body
    required: false
    schema:
      $ref: '#/definitions/RequestInfo'
      
  pageSize:
    name: pageSize
    in: query
    description: Number of records returned.
    type: integer
    minimum: 0
    exclusiveMinimum: true
    maximum: 100
    exclusiveMaximum: false
    multipleOf: 10
    default: 20
  pageNumber:
    name: pageNumber
    in: query
    description: Page number
    type: integer
    default: 1
  sortProperty:
    name: sortBy
    in: query
    description: This takes any field from the Object separated by comma and asc,desc keywords. example name asc,code desc or name,code or name,code desc
    type: string
    default: id
        
tags:
  - name: Birth Registration
    description: APIs required for Birth Registration,name inclusion and updation.
  - name: Death Registration  
    description: APIs required for Death Registration.
